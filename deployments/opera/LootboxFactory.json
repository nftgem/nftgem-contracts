{
  "address": "0x0aE30E22888642348FA1438f37718F89eaCf8bf2",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "controllerAddress",
          "type": "address"
        }
      ],
      "name": "ControllerAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "controllerAddress",
          "type": "address"
        }
      ],
      "name": "ControllerRemoved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "contractAddress",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "randomFarmer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "multitoken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "lootboxHash",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "symbol",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint8",
              "name": "minLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "maxLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxOpens",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalLootGenerated",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lootboxTokenSalePrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "probabilitiesSum",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            }
          ],
          "indexed": false,
          "internalType": "struct ILootbox.Lootbox",
          "name": "data",
          "type": "tuple"
        }
      ],
      "name": "LootboxCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "contractAddress",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "randomFarmer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "multitoken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "lootboxHash",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "symbol",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint8",
              "name": "minLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "maxLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxOpens",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalLootGenerated",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lootboxTokenSalePrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "probabilitiesSum",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            }
          ],
          "indexed": false,
          "internalType": "struct ILootbox.Lootbox",
          "name": "data",
          "type": "tuple"
        }
      ],
      "name": "LootboxMigrated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_controller",
          "type": "address"
        }
      ],
      "name": "addController",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "idx",
          "type": "uint256"
        }
      ],
      "name": "allLootboxes",
      "outputs": [
        {
          "internalType": "address",
          "name": "_lootbox",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "allLootboxesLength",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "_len",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "contractAddress",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "randomFarmer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "multitoken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "lootboxHash",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "symbol",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint8",
              "name": "minLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "maxLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxOpens",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalLootGenerated",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lootboxTokenSalePrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "probabilitiesSum",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            }
          ],
          "internalType": "struct ILootbox.Lootbox",
          "name": "_lootbox",
          "type": "tuple"
        }
      ],
      "name": "createLootbox",
      "outputs": [
        {
          "internalType": "address payable",
          "name": "Lootbox",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_symbolHash",
          "type": "uint256"
        }
      ],
      "name": "getLootbox",
      "outputs": [
        {
          "internalType": "address",
          "name": "_lootbox",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "__data",
          "type": "address"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_address",
          "type": "address"
        }
      ],
      "name": "isController",
      "outputs": [
        {
          "internalType": "bool",
          "name": "allowed",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "isInitialized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lootboxes",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "contractAddress",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "randomFarmer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "multitoken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "lootboxHash",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "symbol",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint8",
              "name": "minLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "maxLootPerOpen",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxOpens",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalLootGenerated",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lootboxTokenSalePrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "probabilitiesSum",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            }
          ],
          "internalType": "struct ILootbox.Lootbox[]",
          "name": "_all",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "migrateTo",
          "type": "address"
        }
      ],
      "name": "migrate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "relinquishControl",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x040c0f9922966da07bbafe63883b9e90c0d12f79040878f0a69bb51f5d188bb3",
  "receipt": {
    "to": null,
    "from": "0xE5E82ae456c04Ad0879785B4f678A4Fcace12AAf",
    "contractAddress": "0x0aE30E22888642348FA1438f37718F89eaCf8bf2",
    "transactionIndex": 1,
    "gasUsed": "4006494",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x00006ec200000f2bc2067c43a1f817df9be51eaad7bd5c1c7549ff2c489b6ee7",
    "transactionHash": "0x040c0f9922966da07bbafe63883b9e90c0d12f79040878f0a69bb51f5d188bb3",
    "logs": [],
    "blockNumber": 15292991,
    "cumulativeGasUsed": "4234322",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "solcInputHash": "9948e98aa3a5edeea097918faf4a1516",
  "metadata": "{\"compiler\":{\"version\":\"0.8.0+commit.c7dfd78e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"controllerAddress\",\"type\":\"address\"}],\"name\":\"ControllerAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"controllerAddress\",\"type\":\"address\"}],\"name\":\"ControllerRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"randomFarmer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"multitoken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"lootboxHash\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"minLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"maxLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxOpens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalLootGenerated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lootboxTokenSalePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"probabilitiesSum\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct ILootbox.Lootbox\",\"name\":\"data\",\"type\":\"tuple\"}],\"name\":\"LootboxCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"randomFarmer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"multitoken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"lootboxHash\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"minLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"maxLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxOpens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalLootGenerated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lootboxTokenSalePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"probabilitiesSum\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct ILootbox.Lootbox\",\"name\":\"data\",\"type\":\"tuple\"}],\"name\":\"LootboxMigrated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_controller\",\"type\":\"address\"}],\"name\":\"addController\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idx\",\"type\":\"uint256\"}],\"name\":\"allLootboxes\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"_lootbox\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"allLootboxesLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_len\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"randomFarmer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"multitoken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"lootboxHash\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"minLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"maxLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxOpens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalLootGenerated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lootboxTokenSalePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"probabilitiesSum\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"}],\"internalType\":\"struct ILootbox.Lootbox\",\"name\":\"_lootbox\",\"type\":\"tuple\"}],\"name\":\"createLootbox\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"Lootbox\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_symbolHash\",\"type\":\"uint256\"}],\"name\":\"getLootbox\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"_lootbox\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"__data\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isController\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isInitialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lootboxes\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"randomFarmer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"multitoken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"lootboxHash\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"minLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"maxLootPerOpen\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxOpens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalLootGenerated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lootboxTokenSalePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"probabilitiesSum\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"}],\"internalType\":\"struct ILootbox.Lootbox[]\",\"name\":\"_all\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"migrateTo\",\"type\":\"address\"}],\"name\":\"migrate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"relinquishControl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"addController(address)\":{\"details\":\"Add an address allowed to control this contract\"},\"allLootboxes(uint256)\":{\"details\":\"get the quantized token for this\"},\"allLootboxesLength()\":{\"details\":\"number of lootboxes\"},\"createLootbox(address,(address,address,address,address,uint256,string,string,string,uint8,uint8,uint256,uint256,uint256,uint256,uint256,uint256,bool))\":{\"details\":\"deploy a new lootbox using create2\"},\"getLootbox(uint256)\":{\"details\":\"get a lootbox\"},\"initialize(address)\":{\"details\":\"contract initialiser - set the data object\"},\"isController(address)\":{\"details\":\"Check if this address is a controller\"},\"lootboxes()\":{\"details\":\"get the quantized token for this\"},\"relinquishControl()\":{\"details\":\"Remove the sender address from the list of controllers\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/factories/LootboxFactory.sol\":\"LootboxFactory\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":2222},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/proxy/utils/Initializable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed\\n * behind a proxy. Since a proxied contract can't have a constructor, it's common to move constructor logic to an\\n * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer\\n * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.\\n *\\n * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as\\n * possible by providing the encoded function call as the `_data` argument to {ERC1967Proxy-constructor}.\\n *\\n * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure\\n * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.\\n */\\nabstract contract Initializable {\\n    /**\\n     * @dev Indicates that the contract has been initialized.\\n     */\\n    bool private _initialized;\\n\\n    /**\\n     * @dev Indicates that the contract is in the process of being initialized.\\n     */\\n    bool private _initializing;\\n\\n    /**\\n     * @dev Modifier to protect an initializer function from being invoked twice.\\n     */\\n    modifier initializer() {\\n        require(_initializing || !_initialized, \\\"Initializable: contract is already initialized\\\");\\n\\n        bool isTopLevelCall = !_initializing;\\n        if (isTopLevelCall) {\\n            _initializing = true;\\n            _initialized = true;\\n        }\\n\\n        _;\\n\\n        if (isTopLevelCall) {\\n            _initializing = false;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x8b2abd85d0ece7e866e100e9d47ca9cbec93c87cf71a8d267b2b93eb81f7d5e9\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC1155/IERC1155.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../../utils/introspection/IERC165.sol\\\";\\n\\n/**\\n * @dev Required interface of an ERC1155 compliant contract, as defined in the\\n * https://eips.ethereum.org/EIPS/eip-1155[EIP].\\n *\\n * _Available since v3.1._\\n */\\ninterface IERC1155 is IERC165 {\\n    /**\\n     * @dev Emitted when `value` tokens of token type `id` are transferred from `from` to `to` by `operator`.\\n     */\\n    event TransferSingle(address indexed operator, address indexed from, address indexed to, uint256 id, uint256 value);\\n\\n    /**\\n     * @dev Equivalent to multiple {TransferSingle} events, where `operator`, `from` and `to` are the same for all\\n     * transfers.\\n     */\\n    event TransferBatch(\\n        address indexed operator,\\n        address indexed from,\\n        address indexed to,\\n        uint256[] ids,\\n        uint256[] values\\n    );\\n\\n    /**\\n     * @dev Emitted when `account` grants or revokes permission to `operator` to transfer their tokens, according to\\n     * `approved`.\\n     */\\n    event ApprovalForAll(address indexed account, address indexed operator, bool approved);\\n\\n    /**\\n     * @dev Emitted when the URI for token type `id` changes to `value`, if it is a non-programmatic URI.\\n     *\\n     * If an {URI} event was emitted for `id`, the standard\\n     * https://eips.ethereum.org/EIPS/eip-1155#metadata-extensions[guarantees] that `value` will equal the value\\n     * returned by {IERC1155MetadataURI-uri}.\\n     */\\n    event URI(string value, uint256 indexed id);\\n\\n    /**\\n     * @dev Returns the amount of tokens of token type `id` owned by `account`.\\n     *\\n     * Requirements:\\n     *\\n     * - `account` cannot be the zero address.\\n     */\\n    function balanceOf(address account, uint256 id) external view returns (uint256);\\n\\n    /**\\n     * @dev xref:ROOT:erc1155.adoc#batch-operations[Batched] version of {balanceOf}.\\n     *\\n     * Requirements:\\n     *\\n     * - `accounts` and `ids` must have the same length.\\n     */\\n    function balanceOfBatch(address[] calldata accounts, uint256[] calldata ids)\\n        external\\n        view\\n        returns (uint256[] memory);\\n\\n    /**\\n     * @dev Grants or revokes permission to `operator` to transfer the caller's tokens, according to `approved`,\\n     *\\n     * Emits an {ApprovalForAll} event.\\n     *\\n     * Requirements:\\n     *\\n     * - `operator` cannot be the caller.\\n     */\\n    function setApprovalForAll(address operator, bool approved) external;\\n\\n    /**\\n     * @dev Returns true if `operator` is approved to transfer ``account``'s tokens.\\n     *\\n     * See {setApprovalForAll}.\\n     */\\n    function isApprovedForAll(address account, address operator) external view returns (bool);\\n\\n    /**\\n     * @dev Transfers `amount` tokens of token type `id` from `from` to `to`.\\n     *\\n     * Emits a {TransferSingle} event.\\n     *\\n     * Requirements:\\n     *\\n     * - `to` cannot be the zero address.\\n     * - If the caller is not `from`, it must be have been approved to spend ``from``'s tokens via {setApprovalForAll}.\\n     * - `from` must have a balance of tokens of type `id` of at least `amount`.\\n     * - If `to` refers to a smart contract, it must implement {IERC1155Receiver-onERC1155Received} and return the\\n     * acceptance magic value.\\n     */\\n    function safeTransferFrom(\\n        address from,\\n        address to,\\n        uint256 id,\\n        uint256 amount,\\n        bytes calldata data\\n    ) external;\\n\\n    /**\\n     * @dev xref:ROOT:erc1155.adoc#batch-operations[Batched] version of {safeTransferFrom}.\\n     *\\n     * Emits a {TransferBatch} event.\\n     *\\n     * Requirements:\\n     *\\n     * - `ids` and `amounts` must have the same length.\\n     * - If `to` refers to a smart contract, it must implement {IERC1155Receiver-onERC1155BatchReceived} and return the\\n     * acceptance magic value.\\n     */\\n    function safeBatchTransferFrom(\\n        address from,\\n        address to,\\n        uint256[] calldata ids,\\n        uint256[] calldata amounts,\\n        bytes calldata data\\n    ) external;\\n}\\n\",\"keccak256\":\"0xfce1eb6398eae0e2b50251140866a70a3106193f101972c878bba1dbf44929ec\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Create2.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Helper to make usage of the `CREATE2` EVM opcode easier and safer.\\n * `CREATE2` can be used to compute in advance the address where a smart\\n * contract will be deployed, which allows for interesting new mechanisms known\\n * as 'counterfactual interactions'.\\n *\\n * See the https://eips.ethereum.org/EIPS/eip-1014#motivation[EIP] for more\\n * information.\\n */\\nlibrary Create2 {\\n    /**\\n     * @dev Deploys a contract using `CREATE2`. The address where the contract\\n     * will be deployed can be known in advance via {computeAddress}.\\n     *\\n     * The bytecode for a contract can be obtained from Solidity with\\n     * `type(contractName).creationCode`.\\n     *\\n     * Requirements:\\n     *\\n     * - `bytecode` must not be empty.\\n     * - `salt` must have not been used for `bytecode` already.\\n     * - the factory must have a balance of at least `amount`.\\n     * - if `amount` is non-zero, `bytecode` must have a `payable` constructor.\\n     */\\n    function deploy(\\n        uint256 amount,\\n        bytes32 salt,\\n        bytes memory bytecode\\n    ) internal returns (address) {\\n        address addr;\\n        require(address(this).balance >= amount, \\\"Create2: insufficient balance\\\");\\n        require(bytecode.length != 0, \\\"Create2: bytecode length is zero\\\");\\n        assembly {\\n            addr := create2(amount, add(bytecode, 0x20), mload(bytecode), salt)\\n        }\\n        require(addr != address(0), \\\"Create2: Failed on deploy\\\");\\n        return addr;\\n    }\\n\\n    /**\\n     * @dev Returns the address where a contract will be stored if deployed via {deploy}. Any change in the\\n     * `bytecodeHash` or `salt` will result in a new destination address.\\n     */\\n    function computeAddress(bytes32 salt, bytes32 bytecodeHash) internal view returns (address) {\\n        return computeAddress(salt, bytecodeHash, address(this));\\n    }\\n\\n    /**\\n     * @dev Returns the address where a contract will be stored if deployed via {deploy} from a contract located at\\n     * `deployer`. If `deployer` is this contract's address, returns the same value as {computeAddress}.\\n     */\\n    function computeAddress(\\n        bytes32 salt,\\n        bytes32 bytecodeHash,\\n        address deployer\\n    ) internal pure returns (address) {\\n        bytes32 _data = keccak256(abi.encodePacked(bytes1(0xff), deployer, salt, bytecodeHash));\\n        return address(uint160(uint256(_data)));\\n    }\\n}\\n\",\"keccak256\":\"0x27f9465d84949f059ed37b23c82f4a9fc16c1b8d6fbd69837a0f920875e2af83\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC165 standard, as defined in the\\n * https://eips.ethereum.org/EIPS/eip-165[EIP].\\n *\\n * Implementers can declare support of contract interfaces, which can then be\\n * queried by others ({ERC165Checker}).\\n *\\n * For an implementation, see {ERC165}.\\n */\\ninterface IERC165 {\\n    /**\\n     * @dev Returns true if this contract implements the interface defined by\\n     * `interfaceId`. See the corresponding\\n     * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]\\n     * to learn more about how these ids are created.\\n     *\\n     * This function call must use less than 30 000 gas.\\n     */\\n    function supportsInterface(bytes4 interfaceId) external view returns (bool);\\n}\\n\",\"keccak256\":\"0xa28007762d9da9db878dd421960c8cb9a10471f47ab5c1b3309bfe48e9e79ff4\",\"license\":\"MIT\"},\"src/access/Controllable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.8.0;\\n\\nimport \\\"../interfaces/IControllable.sol\\\";\\n\\nabstract contract Controllable is IControllable {\\n    mapping(address => bool) internal _controllers;\\n\\n    /**\\n     * @dev Throws if called by any account not in authorized list\\n     */\\n    modifier onlyController() {\\n        require(\\n            _controllers[msg.sender] == true || address(this) == msg.sender,\\n            \\\"Controllable: caller is not a controller\\\"\\n        );\\n        _;\\n    }\\n\\n    /**\\n     * @dev Add an address allowed to control this contract\\n     */\\n    function _addController(address _controller) internal {\\n        _controllers[_controller] = true;\\n    }\\n\\n    /**\\n     * @dev Add an address allowed to control this contract\\n     */\\n    function addController(address _controller)\\n        external\\n        override\\n        onlyController\\n    {\\n        _controllers[_controller] = true;\\n    }\\n\\n    /**\\n     * @dev Check if this address is a controller\\n     */\\n    function isController(address _address)\\n        external\\n        view\\n        override\\n        returns (bool allowed)\\n    {\\n        allowed = _controllers[_address];\\n    }\\n\\n    /**\\n     * @dev Remove the sender address from the list of controllers\\n     */\\n    function relinquishControl() external override onlyController {\\n        delete _controllers[msg.sender];\\n    }\\n}\\n\",\"keccak256\":\"0xa31f752b3b092c788ea06a6dced266db79c4407d69733d78bc15e519f39e1d3f\",\"license\":\"MIT\"},\"src/factories/LootboxFactory.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0;\\n\\nimport \\\"@openzeppelin/contracts/utils/Create2.sol\\\";\\n\\nimport \\\"@openzeppelin/contracts/proxy/utils/Initializable.sol\\\";\\n\\nimport \\\"../lootbox/LootboxContract.sol\\\";\\n\\nimport \\\"../interfaces/ILootbox.sol\\\";\\n\\nimport \\\"../interfaces/ILootboxData.sol\\\";\\n\\nimport \\\"../interfaces/ILootboxFactory.sol\\\";\\n\\nimport \\\"../access/Controllable.sol\\\";\\n\\ncontract LootboxFactory is ILootboxFactory, Controllable, Initializable {\\n    ILootboxData internal _lootboxData;\\n\\n    constructor() {\\n        _addController(msg.sender);\\n    }\\n\\n    modifier initialized() {\\n        require(\\n            address(_lootboxData) != address(0),\\n            \\\"Lootbox is not initialized\\\"\\n        );\\n        _;\\n    }\\n\\n    /**\\n     * @dev contract initialiser - set the data object\\n     */\\n    function initialize(address __data) external override initializer {\\n        require(\\n            IControllable(__data).isController(address(this)) == true,\\n            \\\"Lootbox data must be controlled by this lootbox factory\\\"\\n        );\\n        _lootboxData = ILootboxData(__data);\\n    }\\n\\n    function isInitialized() external view returns (bool) {\\n        return address(_lootboxData) != address(0);\\n    }\\n\\n    /**\\n     * @dev get a lootbox\\n     */\\n    function getLootbox(uint256 _symbolHash)\\n        external\\n        view\\n        override\\n        initialized\\n        returns (address _lootbox)\\n    {\\n        _lootbox = _lootboxData.getLootboxBySymbol(_symbolHash).contractAddress;\\n    }\\n\\n    /**\\n     * @dev get the quantized token for this\\n     */\\n    function lootboxes()\\n        external\\n        view\\n        override\\n        initialized\\n        returns (ILootbox.Lootbox[] memory _all)\\n    {\\n        _all = _lootboxData.lootboxes();\\n    }\\n\\n    /**\\n     * @dev get the quantized token for this\\n     */\\n    function allLootboxes(uint256 idx)\\n        external\\n        view\\n        override\\n        initialized\\n        returns (address _lootbox)\\n    {\\n        _lootbox = _lootboxData.allLootboxes(idx).contractAddress;\\n    }\\n\\n    /**\\n     * @dev number of lootboxes\\n     */\\n    function allLootboxesLength()\\n        external\\n        view\\n        override\\n        initialized\\n        returns (uint256 _len)\\n    {\\n        _len = _lootboxData.allLootboxesLength();\\n    }\\n\\n    /**\\n     * @dev deploy a new lootbox using create2\\n     */\\n    function createLootbox(address owner, ILootbox.Lootbox memory _lootbox)\\n        external\\n        override\\n        initialized\\n        returns (address payable Lootbox)\\n    {\\n        // create the lookup hash for the given symbol\\n        // and check if it already exists\\n        bytes32 salt = keccak256(abi.encodePacked(_lootbox.symbol));\\n        require(\\n            _lootboxData.getLootboxBySymbol(uint256(salt)).contractAddress ==\\n                address(0),\\n            \\\"Lootbox EXISTS\\\"\\n        ); // single check is sufficient\\n\\n        // TODO: validation checks on the incoming Lootbox data\\n\\n        // create the gem pool using create2, which lets us determine the\\n        // address of a gem pool without interacting with the contract itself\\n        bytes memory bytecode = type(LootboxContract).creationCode;\\n\\n        // use create2 to deploy the gem pool contract\\n        Lootbox = payable(Create2.deploy(0, salt, bytecode));\\n\\n        // set the controller of the lootbox\\n        IControllable(Lootbox).addController(owner);\\n\\n        ILootbox(Lootbox).initialize(address(_lootboxData), _lootbox);\\n        _lootbox.contractAddress = address(Lootbox);\\n\\n        // insert the erc20 contract address into lists\\n        _lootboxData.addLootbox(_lootbox);\\n\\n        // emit an event about the new pool being created\\n        emit LootboxCreated(\\n            _lootbox.lootboxHash,\\n            _lootbox.contractAddress,\\n            _lootbox\\n        );\\n    }\\n\\n    function migrate(address migrateTo) external initialized onlyController {\\n        Controllable(address(_lootboxData)).addController(migrateTo);\\n        LootboxFactory(migrateTo).initialize(address(_lootboxData));\\n        selfdestruct(payable(migrateTo));\\n    }\\n}\\n\",\"keccak256\":\"0xc0e4b8eb0df887eab760c29f938ddfb3a8cc674f2a551eb2c95dc0221063263b\",\"license\":\"MIT\"},\"src/interfaces/IControllable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0;\\n\\ninterface IControllable {\\n    event ControllerAdded(\\n        address indexed contractAddress,\\n        address indexed controllerAddress\\n    );\\n    event ControllerRemoved(\\n        address indexed contractAddress,\\n        address indexed controllerAddress\\n    );\\n\\n    function addController(address controller) external;\\n\\n    function isController(address controller) external view returns (bool);\\n\\n    function relinquishControl() external;\\n}\\n\",\"keccak256\":\"0x2a44548d9ba1bcd73d5734b2265db6c1556c013ccc61df621a6cbd5cca42cfaf\",\"license\":\"MIT\"},\"src/interfaces/ILootbox.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0;\\n\\n/// @dev A lootbox is a contract that works with an erc1155 to implement a game lootbox:\\n/// a lootbox is a contract that accepts a single quantity of some erc1155 tokenhash and\\n/// then based on a set of rules goverened by probability, mints one or more outgoing tokens\\n/// as it burns the incoming token. The rules are defined by the lootbox author and are\\n/// stored in the lootbox contract. A newly-created lootbox contract assigns controllership\\n/// to its creator, who can them add other controllers, and can set the rules for the lootbox.\\n/// Each lootbox is configured with some number of Loot items, each of which has deterministic\\n/// tokenhash. These loot items each have names, symboles, and a probability of being minted.\\n/// Users open the lootbox by providing the right gem to the lootbox contract, and then\\n/// the lootbox contract mints the right number of tokens for the user. This contract uses\\n/// a pseudo-random deterministic sieve to determine the number and type of tokens minted\\n\\ninterface ILootbox {\\n    // the lootbox itself\\n    struct Lootbox {\\n        address owner;\\n        address contractAddress;\\n        address randomFarmer;\\n        address multitoken;\\n        uint256 lootboxHash; // identifier and lootbox token hash for the lootbox\\n        string symbol;\\n        string name;\\n        string description;\\n        uint8 minLootPerOpen;\\n        uint8 maxLootPerOpen;\\n        uint256 openPrice;\\n        uint256 maxOpens;\\n        uint256 openCount;\\n        uint256 totalLootGenerated;\\n        uint256 lootboxTokenSalePrice;\\n        uint256 probabilitiesSum;\\n        bool initialized;\\n    }\\n\\n    // loot items\\n    struct Loot {\\n        uint256 lootHash;\\n        address owner;\\n        address multitoken;\\n        string symbol;\\n        string name;\\n        uint256 probability;\\n        uint256 probabilityIndex;\\n        uint256 probabilityRoll;\\n        uint256 maxMint;\\n        uint256 minted;\\n    }\\n\\n    event LootboxCreated(\\n        address indexed creator,\\n        uint256 indexed hash,\\n        address indexed contractAddress,\\n        Lootbox data\\n    );\\n\\n    event LootboxMigrated(\\n        address indexed migrator,\\n        uint256 indexed hash,\\n        address indexed oldContractAddress,\\n        address newContractAddress,\\n        Lootbox data\\n    );\\n\\n    event LootboxOpened(\\n        address indexed opener,\\n        uint256 indexed hash,\\n        Lootbox openedLootbox,\\n        Loot[] receivedLoot\\n    );\\n\\n    event LootAdded(\\n        address indexed adder,\\n        uint256 indexed hash,\\n        Lootbox addedLootbox,\\n        Loot addedLoot\\n    );\\n\\n    event LootboxTokensMinted(\\n        address indexed minter,\\n        uint256 indexed hash,\\n        Lootbox mintedLootbox,\\n        uint256 mintedAmount\\n    );\\n\\n    event LootMinted(\\n        address indexed minter,\\n        uint256 indexed hash,\\n        Lootbox mintedLootbox,\\n        Loot mintedLoot\\n    );\\n\\n    function initialize(\\n        address lootboxData,\\n        ILootbox.Lootbox memory lootboxInit\\n    ) external;\\n\\n    function mintLootboxTokens(uint256 amount) external;\\n\\n    function mintLoot(uint8 index, uint256 amount)\\n        external\\n        returns (Loot memory);\\n\\n    function openLootbox() external returns (Loot[] memory);\\n\\n    function allLoot() external view returns (Loot[] memory);\\n\\n    function addLoot(Loot memory _loot) external returns (uint256);\\n\\n    function getLoot(uint256 index) external view returns (Loot memory);\\n}\\n\",\"keccak256\":\"0x3095bbf70cff5b6be09f8604382f57fa84dfc8b63a2f5d5f38e980d03ab408ef\",\"license\":\"MIT\"},\"src/interfaces/ILootboxData.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0;\\n\\nimport \\\"./ILootbox.sol\\\";\\n\\ninterface ILootboxData {\\n    function addLootbox(ILootbox.Lootbox memory)\\n        external\\n        returns (uint256 lootbox);\\n\\n    function getLootboxBySymbol(uint256 lootbox)\\n        external\\n        view\\n        returns (ILootbox.Lootbox memory);\\n\\n    function getLootboxByHash(uint256 lootbox)\\n        external\\n        view\\n        returns (ILootbox.Lootbox memory);\\n\\n    function lootboxes() external view returns (ILootbox.Lootbox[] memory);\\n\\n    function allLootboxes(uint256 index)\\n        external\\n        view\\n        returns (ILootbox.Lootbox memory);\\n\\n    function allLootboxesLength() external view returns (uint256);\\n\\n    function getLoot(uint256 lootbox, uint256 index)\\n        external\\n        view\\n        returns (ILootbox.Loot memory);\\n\\n    function addLoot(uint256 lootbox, ILootbox.Loot memory lootboxData)\\n        external\\n        returns (uint256);\\n\\n    function setLoot(\\n        uint256 lootbox,\\n        uint256 index,\\n        ILootbox.Loot memory lootboxData\\n    ) external;\\n\\n    function allLoot(uint256 lootbox)\\n        external\\n        view\\n        returns (ILootbox.Loot[] memory);\\n\\n    function delLoot(uint256 lootbox, uint256 index)\\n        external\\n        returns (ILootbox.Loot memory);\\n}\\n\",\"keccak256\":\"0x2522ab32431778220c7ab2fc0924daf11f12ed6d77b970699970bacaabb3311b\",\"license\":\"MIT\"},\"src/interfaces/ILootboxFactory.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.8.0;\\n\\nimport \\\"./ILootbox.sol\\\";\\n\\n/**\\n * @dev Interface for a Bitgem lootbox factory\\n */\\ninterface ILootboxFactory {\\n    /**\\n     * @dev emitted when a new gem pool has been added to the system\\n     */\\n    event LootboxCreated(\\n        uint256 id,\\n        address contractAddress,\\n        ILootbox.Lootbox data\\n    );\\n\\n    event LootboxMigrated(\\n        uint256 id,\\n        address contractAddress,\\n        ILootbox.Lootbox data\\n    );\\n\\n    function initialize(address) external;\\n\\n    function getLootbox(uint256 _symbolHash)\\n        external\\n        view\\n        returns (address _lootbox);\\n\\n    function lootboxes() external view returns (ILootbox.Lootbox[] memory _all);\\n\\n    function allLootboxes(uint256 idx) external view returns (address _lootbox);\\n\\n    function allLootboxesLength() external view returns (uint256);\\n\\n    function createLootbox(address owner, ILootbox.Lootbox memory _lootbox)\\n        external\\n        returns (address payable);\\n}\\n\",\"keccak256\":\"0x0c02f12944d9e3c159aa2925817df0d1b7d9375da015cf3e103a2fa3e6580eb6\",\"license\":\"MIT\"},\"src/interfaces/INFTGemMultiToken.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface INFTGemMultiToken {\\n    enum TokenType {\\n        GOVERNANCE,\\n        CLAIM,\\n        GEM\\n    }\\n\\n    struct Royalty {\\n        address owner;\\n        uint256 royaltyPermillion;\\n    }\\n\\n    // called by controller to mint a claim or a gem\\n    function mint(\\n        address account,\\n        uint256 tokenHash,\\n        uint256 amount\\n    ) external;\\n\\n    // called by controller to mint a claim or a gem\\n    function mintBatch(\\n        address to,\\n        uint256[] memory ids,\\n        uint256[] memory amounts\\n    ) external;\\n\\n    function burnBatch(\\n        address account,\\n        uint256[] memory ids,\\n        uint256[] memory amounts\\n    ) external;\\n\\n    // called by controller to burn a claim\\n    function burn(\\n        address account,\\n        uint256 tokenHash,\\n        uint256 amount\\n    ) external;\\n\\n    function heldTokens(address holder)\\n        external\\n        view\\n        returns (uint256[] memory);\\n\\n    function allHeldTokens(address holder, uint256 _idx)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function allHeldTokensLength(address holder)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function tokenHolders(uint256 _token)\\n        external\\n        view\\n        returns (address[] memory);\\n\\n    function allTokenHolders(uint256 _token, uint256 _idx)\\n        external\\n        view\\n        returns (address);\\n\\n    function allTokenHoldersLength(uint256 _token)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function totalBalances(uint256 _id) external view returns (uint256);\\n\\n    function allProxyRegistries(uint256 _idx) external view returns (address);\\n\\n    function allProxyRegistriesLength() external view returns (uint256);\\n\\n    function addProxyRegistry(address registry) external;\\n\\n    function removeProxyRegistryAt(uint256 index) external;\\n\\n    function getRegistryManager() external view returns (address);\\n\\n    function setRegistryManager(address newManager) external;\\n\\n    function setRoyaltyInfo(\\n        uint256 _tokenId,\\n        address _owner,\\n        uint256 feePermil\\n    ) external;\\n\\n    function lock(uint256 token, uint256 timeframe) external;\\n\\n    function unlockTime(address account, uint256 token)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function setTokenData(\\n        uint256 tokenHash,\\n        TokenType tokenType,\\n        address tokenPool\\n    ) external;\\n\\n    function getTokenData(uint256 tokenHash)\\n        external\\n        view\\n        returns (TokenType, address);\\n}\\n\",\"keccak256\":\"0x1d54431d4f990265d8a0c692430e75c5c77870b78f19264069e1cfe86d7464c0\",\"license\":\"MIT\"},\"src/interfaces/IRandomFarm.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0;\\n\\ninterface IRandomFarmer {\\n    function getRandomBytes(uint8 amount) external returns (bytes32[] memory);\\n\\n    function getRandomUints(uint8 amount) external returns (uint256[] memory);\\n\\n    function getRandomNumber(uint256 min, uint256 max)\\n        external\\n        returns (uint256);\\n}\\n\\ninterface IRandomFarm is IRandomFarmer {\\n    function initialize(uint256 seed) external;\\n\\n    function addRandomness(uint256 randomness) external;\\n}\\n\",\"keccak256\":\"0x30c47bb1d97367da45f911bfb8c63b0af671e1dae3d5faac65a6203af6717cf6\",\"license\":\"MIT\"},\"src/lootbox/LootboxContract.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0;\\n\\nimport \\\"@openzeppelin/contracts/proxy/utils/Initializable.sol\\\";\\nimport \\\"@openzeppelin/contracts/token/ERC1155/IERC1155.sol\\\";\\n\\nimport \\\"../interfaces/ILootbox.sol\\\";\\nimport \\\"../interfaces/IRandomFarm.sol\\\";\\nimport \\\"../interfaces/ILootboxData.sol\\\";\\nimport \\\"../interfaces/IControllable.sol\\\";\\nimport \\\"../interfaces/INFTGemMultiToken.sol\\\";\\nimport \\\"../access/Controllable.sol\\\";\\n\\n/// @dev A lootbox is a contract that works with an erc1155 to implement a game lootbox:\\n/// a lootbox is a contract that accepts a single quantity of some erc1155 tokenhash and\\n/// then based on a set of rules goverened by probability, mints one or more outgoing tokens\\n/// as it burns the incoming token. The rules are defined by the lootbox author and are\\n/// stored in the lootbox contract. A newly-created lootbox contract assigns controllership\\n/// to its creator, who can them add other controllers, and can set the rules for the lootbox.\\n/// Each lootbox is configured with some number of Loot items, each of which has deterministic\\n/// tokenhash. These loot items each have names, symboles, and a probability of being minted.\\n/// Users open the lootbox by providing the right gem to the lootbox contract, and then\\n/// the lootbox contract mints the right number of tokens for the user. This contract uses\\n/// a pseudo-random deterministic sieve to determine the number and type of tokens minted\\n\\ncontract LootboxContract is ILootbox, Controllable, Initializable {\\n    ILootboxData internal _lootboxData;\\n    ILootbox.Lootbox internal _lootbox;\\n\\n    constructor() {\\n        _addController(msg.sender);\\n    }\\n\\n    /// @dev contract must be initilized for modified method to be called\\n    modifier initialized() {\\n        require(\\n            _lootbox.lootboxHash != 0 && _lootbox.initialized == true,\\n            \\\"Lootbox is not initialized\\\"\\n        );\\n        _;\\n    }\\n\\n    /// @dev Sets the lootbox data. The lootbox contract can either initialise a new\\n    // lootbox struct or it can load and update an existing lootbox struct.\\n    function initialize(\\n        address lootboxData,\\n        ILootbox.Lootbox memory lootboxInit\\n    ) external override initializer {\\n        require(\\n            IControllable(lootboxData).isController(address(this)) == true,\\n            \\\"Lootbox data must be controlled by this lootbox\\\"\\n        );\\n        _lootboxData = ILootboxData(lootboxData);\\n        if (lootboxInit.lootboxHash == 0) {\\n            require(\\n                lootboxInit.multitoken != address(0),\\n                \\\"Multitoken address must be set\\\"\\n            );\\n            require(bytes(lootboxInit.name).length != 0, \\\"Name must be set\\\");\\n            require(\\n                bytes(lootboxInit.symbol).length != 0,\\n                \\\"Symbol must be set\\\"\\n            );\\n            require(lootboxInit.minLootPerOpen != 0, \\\"Min loot must be set\\\");\\n            require(lootboxInit.maxLootPerOpen != 0, \\\"Max loot must be set\\\");\\n            // TODO: additional validity checks would not hurt here\\n            _lootbox = lootboxInit;\\n            _lootbox.owner = msg.sender;\\n            _lootbox.lootboxHash = uint256(\\n                keccak256(\\n                    abi.encodePacked(\\n                        msg.sender,\\n                        lootboxInit.multitoken,\\n                        lootboxInit.symbol,\\n                        lootboxInit.name,\\n                        block.timestamp\\n                    )\\n                )\\n            );\\n            _lootbox.initialized = true;\\n            _lootboxData.addLootbox(_lootbox);\\n            emit LootboxCreated(\\n                msg.sender,\\n                _lootbox.lootboxHash,\\n                address(this),\\n                _lootbox\\n            );\\n        } else {\\n            // load the lootbox struct\\n            _lootbox = _lootboxData.getLootboxByHash(lootboxInit.lootboxHash);\\n            require(\\n                _lootbox.owner == msg.sender,\\n                \\\"Lootbox must be owned by the caller to uppgrade contract\\\"\\n            );\\n            emit LootboxMigrated(\\n                msg.sender,\\n                _lootbox.lootboxHash,\\n                _lootbox.contractAddress,\\n                address(this),\\n                _lootbox\\n            );\\n        }\\n    }\\n\\n    function openLootbox()\\n        external\\n        override\\n        initialized\\n        returns (Loot[] memory _lootOut)\\n    {\\n        // make sure that the caller has at least one lootbox token\\n        require(\\n            IERC1155(_lootbox.multitoken).balanceOf(\\n                msg.sender,\\n                _lootbox.lootboxHash\\n            ) > 0,\\n            \\\"Insufficient lootbox token balance\\\"\\n        );\\n\\n        // no need to transfer the lootbox token anywhere, we can just burn it in place\\n        INFTGemMultiToken(_lootbox.multitoken).burn(\\n            msg.sender,\\n            _lootbox.lootboxHash,\\n            1\\n        );\\n\\n        // first we need to determine the number of loot items to mint\\n        // if min == max, then we mint that exact number of items. Otherwise,\\n        // we use a random number between min and max to determine the number\\n        // of loot items to mint\\n        uint8 lootCount = _lootbox.minLootPerOpen;\\n        if (_lootbox.minLootPerOpen != _lootbox.maxLootPerOpen) {\\n            lootCount = uint8(\\n                IRandomFarmer(_lootbox.randomFarmer).getRandomNumber(\\n                    uint256(_lootbox.minLootPerOpen),\\n                    uint256(_lootbox.maxLootPerOpen)\\n                )\\n            );\\n        } else lootCount = _lootbox.minLootPerOpen;\\n\\n        // now that we know how much we need to mint, we can create the\\n        // loot roll array that will hold our results and create some loot\\n        _lootOut = new Loot[](lootCount);\\n\\n        // grab the array of loot items to disburse from\\n        Loot[] memory _loot = _lootboxData.allLoot(_lootbox.lootboxHash);\\n\\n        // now we need some randomness to determine which loot items we win\\n        // we use a pseudo-random deterministic sieve to determine the number\\n        // and type of tokens minted\\n        uint256[] memory _lootRoll = IRandomFarmer(_lootbox.randomFarmer)\\n            .getRandomUints(lootCount);\\n\\n        // mint the loot items\\n        for (uint256 i = 0; i < lootCount; i++) {\\n            // generate a loot item given a random seed\\n            (uint8 winIndex, uint256 winRoll) = _generateLoot(_lootRoll[i]);\\n            // assign the loot item to the loot array\\n            _lootOut[i] = _loot[winIndex];\\n            _lootOut[i].probabilityRoll = winRoll;\\n            // mint the loot item to the multitoken\\n            INFTGemMultiToken(_lootbox.multitoken).mint(\\n                msg.sender,\\n                _lootOut[i].lootHash,\\n                1\\n            );\\n        }\\n\\n        /// generate an event reporting on the loot that was found\\n        emit LootboxOpened(\\n            msg.sender,\\n            _lootbox.lootboxHash,\\n            _lootbox,\\n            _lootOut\\n        );\\n    }\\n\\n    function mintLootboxTokens(uint256 amount)\\n        external\\n        override\\n        initialized\\n        onlyController\\n    {\\n        // mint the loot item to the owner\\n        INFTGemMultiToken(_lootbox.multitoken).mint(\\n            msg.sender,\\n            _lootbox.lootboxHash,\\n            amount\\n        );\\n\\n        // generate an event reporting on the loot that was found\\n        emit LootboxTokensMinted(\\n            msg.sender,\\n            _lootbox.lootboxHash,\\n            _lootbox,\\n            amount\\n        );\\n    }\\n\\n    function mintLoot(uint8 index, uint256 amount)\\n        external\\n        override\\n        initialized\\n        onlyController\\n        returns (Loot memory)\\n    {\\n        // require a valid loot index\\n        Loot[] memory _allLoot = _lootboxData.allLoot(_lootbox.lootboxHash);\\n        require(index < _allLoot.length, \\\"Loot index out of bounds\\\");\\n        // mint the loot item to the minter\\n        INFTGemMultiToken(_lootbox.multitoken).mint(\\n            msg.sender,\\n            _allLoot[index].lootHash,\\n            amount\\n        );\\n        // forced to use GOVERNANCE here as a token type because\\n        // someone decided to 'clean up' what they didn't understand.\\n        // there was a very good reason for this, that being that an\\n        // int type rather than an enum allows us to easily add new\\n        // token types. Noe I have to figure out how to handle this\\n        // in some other way. Thanks, Justin\\n        INFTGemMultiToken(_lootbox.multitoken).setTokenData(\\n            _allLoot[index].lootHash,\\n            INFTGemMultiToken.TokenType.GOVERNANCE,\\n            address(this)\\n        );\\n\\n        // emit a message about it\\n        emit LootMinted(\\n            msg.sender,\\n            _lootbox.lootboxHash,\\n            _lootbox,\\n            _allLoot[index]\\n        );\\n        // return the loot item we minted\\n        return _allLoot[index];\\n    }\\n\\n    function _generateLoot(uint256 dice)\\n        internal\\n        view\\n        returns (uint8 winnerIndex, uint256 winnerRoll)\\n    {\\n        // validate the dice roll is in the proper range\\n        require(\\n            dice < _lootbox.probabilitiesSum,\\n            \\\"Dice roll must be less than total probability\\\"\\n        );\\n        uint256 floor = 0;\\n        // get all the loot there is to award\\n        Loot[] memory _loot = _lootboxData.allLoot(_lootbox.lootboxHash);\\n        // iterate through the loot items\\n        for (uint256 i = 0; i < _loot.length; i++) {\\n            // if the dice roll is between the floor and the probability index\\n            // then this is the item we will award\\n            if (floor <= dice && dice < _loot[i].probabilityIndex) {\\n                winnerIndex = uint8(i);\\n                winnerRoll = dice;\\n                break;\\n            }\\n            // increment the floor to the next probability index\\n            floor = _loot[i].probabilityIndex;\\n        }\\n        return (winnerIndex, winnerRoll);\\n    }\\n\\n    function allLoot()\\n        external\\n        view\\n        override\\n        initialized\\n        returns (Loot[] memory)\\n    {\\n        return _lootboxData.allLoot(_lootbox.lootboxHash);\\n    }\\n\\n    function addLoot(Loot memory _loot)\\n        external\\n        override\\n        initialized\\n        onlyController\\n        returns (uint256)\\n    {\\n        // basic sanity checks\\n        require(bytes(_loot.symbol).length > 0, \\\"Symbol must be set\\\");\\n        require(bytes(_loot.name).length > 0, \\\"name must be set\\\");\\n        require(_loot.probability > 0, \\\"probability must be set\\\");\\n\\n        // populate field values the loot must have\\n        _loot.multitoken = _lootbox.multitoken;\\n        _loot.probabilityIndex = _lootbox.probabilitiesSum + _loot.probability;\\n        _lootbox.probabilitiesSum += _loot.probability;\\n        _loot.lootHash = uint256(\\n            keccak256(abi.encodePacked(_lootbox.lootboxHash, _loot.symbol))\\n        );\\n\\n        // emit a message about it\\n        emit LootAdded(msg.sender, _lootbox.lootboxHash, _lootbox, _loot);\\n\\n        // return the added loot item index\\n        return _lootboxData.addLoot(_lootbox.lootboxHash, _loot);\\n    }\\n\\n    function _recalculateProbabilities() internal {\\n        // get all the loot there is to award\\n        Loot[] memory _allLoot = _lootboxData.allLoot(_lootbox.lootboxHash);\\n        uint256 floor = 0;\\n        // iterate through the loot items\\n        for (uint256 i = 0; i < _allLoot.length; i++) {\\n            // set the probability index to the floor\\n            _allLoot[i].probabilityIndex = floor + _allLoot[i].probability;\\n            floor += _allLoot[i].probability;\\n            _lootboxData.setLoot(_lootbox.lootboxHash, i, _allLoot[i]);\\n        }\\n    }\\n\\n    function getLoot(uint256 index)\\n        external\\n        view\\n        override\\n        initialized\\n        returns (Loot memory)\\n    {\\n        return _lootboxData.getLoot(_lootbox.lootboxHash, index);\\n    }\\n\\n    function withdrawFees(address receiver)\\n        external\\n        initialized\\n        onlyController\\n    {\\n        require(address(this).balance > 0, \\\"Lootbox is empty\\\");\\n        payable(receiver).transfer(address(this).balance);\\n    }\\n\\n    function feeBalance() external view returns (uint256) {\\n        return address(this).balance;\\n    }\\n\\n    function migrate(address migrateTo) external initialized onlyController {\\n        IControllable(address(_lootboxData)).addController(migrateTo);\\n        ILootbox(migrateTo).initialize(address(_lootboxData), _lootbox);\\n        selfdestruct(payable(migrateTo));\\n    }\\n}\\n\",\"keccak256\":\"0x32cb62c1676b9206f986a2753546894839e7d7e25d2ef66d59311d51ad204108\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5061001a3361001f565b610043565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b614758806100526000396000f3fe608060405234801561001057600080fd5b50600436106100c95760003560e01c80638a566e7111610081578063c4d66de81161005b578063c4d66de814610184578063ce5494bb14610197578063e1c28bef146101aa576100c9565b80638a566e7114610149578063a7fc7a071461015c578063b429afeb14610171576100c9565b8063516d16b9116100b2578063516d16b91461010c5780635213b7ff146101215780635d61017714610134576100c9565b806301768052146100ce578063392e53cd146100f7575b600080fd5b6100e16100dc366004611116565b6101b2565b6040516100ee91906112d2565b60405180910390f35b6100ff610298565b6040516100ee9190611386565b6101146102af565b6040516100ee91906115cc565b6100e161012f366004611116565b61036b565b61013c6103ea565b6040516100ee9190611308565b6100e1610157366004610e90565b6104a5565b61016f61016a366004610e6d565b6107fb565b005b6100ff61017f366004610e6d565b61085d565b61016f610192366004610e6d565b61087b565b61016f6101a5366004610e6d565b6109de565b61016f610b57565b6001546000906201000090046001600160a01b03166101ec5760405162461bcd60e51b81526004016101e390611491565b60405180910390fd5b6001546040517f01768052000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063017680529061023a9085906004016115cc565b60006040518083038186803b15801561025257600080fd5b505afa158015610266573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261028e91908101906110e3565b6020015192915050565b6001546201000090046001600160a01b0316151590565b6001546000906201000090046001600160a01b03166102e05760405162461bcd60e51b81526004016101e390611491565b600160029054906101000a90046001600160a01b03166001600160a01b031663516d16b96040518163ffffffff1660e01b815260040160206040518083038186803b15801561032e57600080fd5b505afa158015610342573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610366919061112e565b905090565b6001546000906201000090046001600160a01b031661039c5760405162461bcd60e51b81526004016101e390611491565b6001546040517fbb0492f5000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063bb0492f59061023a9085906004016115cc565b6001546060906201000090046001600160a01b031661041b5760405162461bcd60e51b81526004016101e390611491565b600160029054906101000a90046001600160a01b03166001600160a01b0316635d6101776040518163ffffffff1660e01b815260040160006040518083038186803b15801561046957600080fd5b505afa15801561047d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526103669190810190611028565b6001546000906201000090046001600160a01b03166104d65760405162461bcd60e51b81526004016101e390611491565b60008260a001516040516020016104ed91906112b6565b60408051601f198184030181529082905280516020909101206001547fbb0492f5000000000000000000000000000000000000000000000000000000008352909250600091620100009091046001600160a01b03169063bb0492f5906105579085906004016115cc565b60006040518083038186803b15801561056f57600080fd5b505afa158015610583573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105ab91908101906110e3565b602001516001600160a01b0316146105d55760405162461bcd60e51b81526004016101e3906113c6565b6000604051806020016105e790610c28565b601f1982820381018352601f90910116604052905061060860008383610bae565b6040517fa7fc7a070000000000000000000000000000000000000000000000000000000081529093506001600160a01b0384169063a7fc7a07906106509088906004016112d2565b600060405180830381600087803b15801561066a57600080fd5b505af115801561067e573d6000803e3d6000fd5b50506001546040517f750905c40000000000000000000000000000000000000000000000000000000081526001600160a01b03808816945063750905c493506106d392620100009004169088906004016112e6565b600060405180830381600087803b1580156106ed57600080fd5b505af1158015610701573d6000803e3d6000fd5b5050506001600160a01b0380851660208701526001546040517fb808657f00000000000000000000000000000000000000000000000000000000815262010000909104909116915063b808657f9061075d9087906004016115b9565b602060405180830381600087803b15801561077757600080fd5b505af115801561078b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107af919061112e565b507febdece307040380e581eac4e5f85334ff3773563045c69102f0007dc84840e4584608001518560200151866040516107eb939291906115d5565b60405180910390a1505092915050565b3360009081526020819052604090205460ff1615156001148061081d57503033145b6108395760405162461bcd60e51b81526004016101e3906114c8565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b6001600160a01b031660009081526020819052604090205460ff1690565b600154610100900460ff1680610894575060015460ff16155b6108b05760405162461bcd60e51b81526004016101e3906113fd565b600154610100900460ff161580156108da576001805460ff1961ff00199091166101001716811790555b6040517fb429afeb0000000000000000000000000000000000000000000000000000000081526001600160a01b0383169063b429afeb9061091f9030906004016112d2565b60206040518083038186803b15801561093757600080fd5b505afa15801561094b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061096f91906110c7565b15156001146109905760405162461bcd60e51b81526004016101e390611525565b600180547fffffffffffffffffffff0000000000000000000000000000000000000000ffff16620100006001600160a01b0385160217905580156109da576001805461ff00191690555b5050565b6001546201000090046001600160a01b0316610a0c5760405162461bcd60e51b81526004016101e390611491565b3360009081526020819052604090205460ff16151560011480610a2e57503033145b610a4a5760405162461bcd60e51b81526004016101e3906114c8565b6001546040517fa7fc7a07000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063a7fc7a0790610a989084906004016112d2565b600060405180830381600087803b158015610ab257600080fd5b505af1158015610ac6573d6000803e3d6000fd5b50506001546040517fc4d66de80000000000000000000000000000000000000000000000000000000081526001600160a01b03808616945063c4d66de89350610b199262010000900416906004016112d2565b600060405180830381600087803b158015610b3357600080fd5b505af1158015610b47573d6000803e3d6000fd5b50505050806001600160a01b0316ff5b3360009081526020819052604090205460ff16151560011480610b7957503033145b610b955760405162461bcd60e51b81526004016101e3906114c8565b336000908152602081905260409020805460ff19169055565b60008084471015610bd15760405162461bcd60e51b81526004016101e390611582565b8251610bef5760405162461bcd60e51b81526004016101e390611391565b8383516020850187f590506001600160a01b038116610c205760405162461bcd60e51b81526004016101e39061145a565b949350505050565b613036806116ed83390190565b8035610c40816116b7565b919050565b8051610c40816116b7565b8035610c40816116cf565b8051610c40816116cf565b600082601f830112610c76578081fd5b8135610c89610c8482611630565b611606565b818152846020838601011115610c9d578283fd5b816020850160208301379081016020019190915292915050565b600082601f830112610cc7578081fd5b8151610cd5610c8482611630565b818152846020838601011115610ce9578283fd5b610c20826020830160208701611658565b6000610220808385031215610d0d578182fd5b610d1681611606565b915050610d2282610c45565b8152610d3060208301610c45565b6020820152610d4160408301610c45565b6040820152610d5260608301610c45565b60608201526080820151608082015260a082015167ffffffffffffffff80821115610d7c57600080fd5b610d8885838601610cb7565b60a084015260c0840151915080821115610da157600080fd5b610dad85838601610cb7565b60c084015260e0840151915080821115610dc657600080fd5b50610dd384828501610cb7565b60e083015250610100610de7818401610e62565b90820152610120610df9838201610e62565b908201526101408281015190820152610160808301519082015261018080830151908201526101a080830151908201526101c080830151908201526101e08083015190820152610200610e4d818401610c5b565b9082015292915050565b8035610c40816116dd565b8051610c40816116dd565b600060208284031215610e7e578081fd5b8135610e89816116b7565b9392505050565b60008060408385031215610ea2578081fd5b8235610ead816116b7565b9150602083013567ffffffffffffffff80821115610ec9578283fd5b8185019150610220808388031215610edf578384fd5b610ee881611606565b9050610ef383610c35565b8152610f0160208401610c35565b6020820152610f1260408401610c35565b6040820152610f2360608401610c35565b60608201526080830135608082015260a083013582811115610f43578485fd5b610f4f88828601610c66565b60a08301525060c083013582811115610f66578485fd5b610f7288828601610c66565b60c08301525060e083013582811115610f89578485fd5b610f9588828601610c66565b60e0830152506101009150610fab828401610e57565b828201526101209150610fbf828401610e57565b918101919091526101408281013590820152610160808301359082015261018080830135908201526101a080830135908201526101c080830135908201526101e0808301359082015261020090611017828401610c50565b828201528093505050509250929050565b6000602080838503121561103a578182fd5b825167ffffffffffffffff80821115611051578384fd5b818501915085601f830112611064578384fd5b81518181111561107657611076611688565b6110838485830201611606565b8181528481019250838501865b838110156110b9576110a78a888451890101610cfa565b85529386019390860190600101611090565b509098975050505050505050565b6000602082840312156110d8578081fd5b8151610e89816116cf565b6000602082840312156110f4578081fd5b815167ffffffffffffffff81111561110a578182fd5b610c2084828501610cfa565b600060208284031215611127578081fd5b5035919050565b60006020828403121561113f578081fd5b5051919050565b6001600160a01b03169052565b15159052565b60008151808452611171816020860160208601611658565b601f01601f19169290920160200192915050565b6000610220611195848451611146565b60208301516111a76020860182611146565b5060408301516111ba6040860182611146565b5060608301516111cd6060860182611146565b506080830151608085015260a08301518160a08601526111ef82860182611159565b91505060c083015184820360c08601526112098282611159565b91505060e083015184820360e08601526112238282611159565b91505061010080840151611239828701826112af565b50506101208084015161124e828701826112af565b50506101408381015190850152610160808401519085015261018080840151908501526101a080840151908501526101c080840151908501526101e08084015190850152610200808401516112a582870182611153565b5090949350505050565b60ff169052565b600082516112c8818460208701611658565b9190910192915050565b6001600160a01b0391909116815260200190565b60006001600160a01b038416825260406020830152610c206040830184611185565b6000602080830181845280855180835260408601915060408482028701019250838701855b82811015611379577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0888603018452611367858351611185565b9450928501929085019060010161132d565b5092979650505050505050565b901515815260200190565b6020808252818101527f437265617465323a2062797465636f6465206c656e677468206973207a65726f604082015260600190565b6020808252600e908201527f4c6f6f74626f7820455849535453000000000000000000000000000000000000604082015260600190565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201527f647920696e697469616c697a6564000000000000000000000000000000000000606082015260800190565b60208082526019908201527f437265617465323a204661696c6564206f6e206465706c6f7900000000000000604082015260600190565b6020808252601a908201527f4c6f6f74626f78206973206e6f7420696e697469616c697a6564000000000000604082015260600190565b60208082526028908201527f436f6e74726f6c6c61626c653a2063616c6c6572206973206e6f74206120636f60408201527f6e74726f6c6c6572000000000000000000000000000000000000000000000000606082015260800190565b60208082526037908201527f4c6f6f74626f782064617461206d75737420626520636f6e74726f6c6c65642060408201527f62792074686973206c6f6f74626f7820666163746f7279000000000000000000606082015260800190565b6020808252601d908201527f437265617465323a20696e73756666696369656e742062616c616e6365000000604082015260600190565b600060208252610e896020830184611185565b90815260200190565b60008482526001600160a01b0384166020830152606060408301526115fd6060830184611185565b95945050505050565b60405181810167ffffffffffffffff8111828210171561162857611628611688565b604052919050565b600067ffffffffffffffff82111561164a5761164a611688565b50601f01601f191660200190565b60005b8381101561167357818101518382015260200161165b565b83811115611682576000848401525b50505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6001600160a01b03811681146116cc57600080fd5b50565b80151581146116cc57600080fd5b60ff811681146116cc57600080fdfe608060405234801561001057600080fd5b5061001a3361001f565b610043565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b612fe380620000536000396000f3fe608060405234801561001057600080fd5b50600436106100df5760003560e01c8063750905c41161008c578063b2cd3b9a11610066578063b2cd3b9a146101ab578063b429afeb146101b3578063ce5494bb146101d3578063e1c28bef146101e6576100df565b8063750905c41461017257806380d9157414610185578063a7fc7a0714610198576100df565b8063425ce651116100bd578063425ce6511461013757806360b71d4e1461014a5780636db110701461015f576100df565b80630ab6d2e3146100e4578063164e68de1461010d5780633cda54e514610122575b600080fd5b6100f76100f2366004612412565b6101ee565b6040516101049190612ce1565b60405180910390f35b61012061011b366004611e46565b6104fd565b005b61012a6105c8565b604051610104919061286f565b6100f76101453660046123e2565b610b60565b610152610c49565b6040516101049190612d7c565b61012061016d3660046123e2565b610c4d565b610120610180366004611e69565b610d8d565b610152610193366004612136565b6114e1565b6101206101a6366004611e46565b611720565b61012a611782565b6101c66101c1366004611e46565b611848565b6040516101049190612882565b6101206101e1366004611e46565b611866565b6101206119e8565b6101f6611b96565b6006541580159061020e575060115460ff1615156001145b6102335760405162461bcd60e51b815260040161022a90612ab7565b60405180910390fd5b3360009081526020819052604090205460ff1615156001148061025557503033145b6102715760405162461bcd60e51b815260040161022a90612aee565b600154600654604051639b73a6fb60e01b81526000926201000090046001600160a01b031691639b73a6fb916102aa9190600401612d7c565b60006040518083038186803b1580156102c257600080fd5b505afa1580156102d6573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526102fe9190810190612001565b905080518460ff16106103235760405162461bcd60e51b815260040161022a90612c3c565b60055481516001600160a01b039091169063156e29f6903390849060ff891690811061035f57634e487b7160e01b600052603260045260246000fd5b602002602001015160000151866040518463ffffffff1660e01b815260040161038a9392919061284e565b600060405180830381600087803b1580156103a457600080fd5b505af11580156103b8573d6000803e3d6000fd5b505060055483516001600160a01b039091169250637c8810769150839060ff88169081106103f657634e487b7160e01b600052603260045260246000fd5b6020026020010151600001516000306040518463ffffffff1660e01b815260040161042393929190612d85565b600060405180830381600087803b15801561043d57600080fd5b505af1158015610451573d6000803e3d6000fd5b50505050600260040154336001600160a01b03167f6b7ed3c7af25f1268ba90e9f0f83a4178dab4d75a0ef9524530268406cb88c586002848860ff16815181106104ab57634e487b7160e01b600052603260045260246000fd5b60200260200101516040516104c1929190612d35565b60405180910390a3808460ff16815181106104ec57634e487b7160e01b600052603260045260246000fd5b602002602001015191505092915050565b60065415801590610515575060115460ff1615156001145b6105315760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff1615156001148061055357503033145b61056f5760405162461bcd60e51b815260040161022a90612aee565b6000471161058f5760405162461bcd60e51b815260040161022a90612958565b6040516001600160a01b038216904780156108fc02916000818181858888f193505050501580156105c4573d6000803e3d6000fd5b5050565b600654606090158015906105e3575060115460ff1615156001145b6105ff5760405162461bcd60e51b815260040161022a90612ab7565b6005546006546040517efdd58e0000000000000000000000000000000000000000000000000000000081526000926001600160a01b03169162fdd58e9161064a913391600401612835565b60206040518083038186803b15801561066257600080fd5b505afa158015610676573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069a91906123fa565b116106b75760405162461bcd60e51b815260040161022a90612a5a565b6005546006546040517ff5298aca0000000000000000000000000000000000000000000000000000000081526001600160a01b039092169163f5298aca916107079133919060019060040161284e565b600060405180830381600087803b15801561072157600080fd5b505af1158015610735573d6000803e3d6000fd5b5050600a5460ff808216935061010090910416821490506108005760048054600a546040517f6e68fc0a0000000000000000000000000000000000000000000000000000000081526001600160a01b0390921692636e68fc0a926107a79260ff80821693610100909204169101612de0565b602060405180830381600087803b1580156107c157600080fd5b505af11580156107d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107f991906123fa565b9050610808565b50600a5460ff165b8060ff1667ffffffffffffffff81111561083257634e487b7160e01b600052604160045260246000fd5b60405190808252806020026020018201604052801561086b57816020015b610858611b96565b8152602001906001900390816108505790505b50600154600654604051639b73a6fb60e01b8152929450600092620100009092046001600160a01b031691639b73a6fb916108a891600401612d7c565b60006040518083038186803b1580156108c057600080fd5b505afa1580156108d4573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526108fc9190810190612001565b600480546040517f82da649a0000000000000000000000000000000000000000000000000000000081529293506000926001600160a01b03909116916382da649a9161094a91879101612dee565b600060405180830381600087803b15801561096457600080fd5b505af1158015610978573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526109a0919081019061208a565b905060005b8360ff16811015610b19576000806109e38484815181106109d657634e487b7160e01b600052603260045260246000fd5b6020026020010151611a3f565b91509150848260ff1681518110610a0a57634e487b7160e01b600052603260045260246000fd5b6020026020010151878481518110610a3257634e487b7160e01b600052603260045260246000fd5b602002602001018190525080878481518110610a5e57634e487b7160e01b600052603260045260246000fd5b602090810291909101015160e0015260055487516001600160a01b039091169063156e29f69033908a9087908110610aa657634e487b7160e01b600052603260045260246000fd5b60200260200101516000015160016040518463ffffffff1660e01b8152600401610ad29392919061284e565b600060405180830381600087803b158015610aec57600080fd5b505af1158015610b00573d6000803e3d6000fd5b5050505050508080610b1190612f13565b9150506109a5565b5060065460405133907f0e7b17025110b42cd45dde2220395802812ce23fcb03711f341f27713c68c96590610b52906002908990612d07565b60405180910390a350505090565b610b68611b96565b60065415801590610b80575060115460ff1615156001145b610b9c5760405162461bcd60e51b815260040161022a90612ab7565b6001546006546040517f53b8a864000000000000000000000000000000000000000000000000000000008152620100009092046001600160a01b0316916353b8a86491610bed918690600401612de0565b60006040518083038186803b158015610c0557600080fd5b505afa158015610c19573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610c41919081019061222a565b90505b919050565b4790565b60065415801590610c65575060115460ff1615156001145b610c815760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff16151560011480610ca357503033145b610cbf5760405162461bcd60e51b815260040161022a90612aee565b6005546006546040517f156e29f60000000000000000000000000000000000000000000000000000000081526001600160a01b039092169163156e29f691610d0e91339190869060040161284e565b600060405180830381600087803b158015610d2857600080fd5b505af1158015610d3c573d6000803e3d6000fd5b50505050600260040154336001600160a01b03167fe1c77fff6d5d8234a456feb82f90b8951c86c0f89d25560cafcc8b7132282486600284604051610d82929190612d5a565b60405180910390a350565b600154610100900460ff1680610da6575060015460ff16155b610dc25760405162461bcd60e51b815260040161022a906129c6565b600154610100900460ff16158015610dec576001805460ff1961ff00199091166101001716811790555b6040517fb429afeb0000000000000000000000000000000000000000000000000000000081526001600160a01b0384169063b429afeb90610e319030906004016127ff565b60206040518083038186803b158015610e4957600080fd5b505afa158015610e5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e81919061211a565b1515600114610ea25760405162461bcd60e51b815260040161022a90612ba8565b600180547fffffffffffffffffffff0000000000000000000000000000000000000000ffff16620100006001600160a01b0386160217905560808201516112525760608201516001600160a01b0316610f0d5760405162461bcd60e51b815260040161022a90612c05565b60c082015151610f2f5760405162461bcd60e51b815260040161022a906128ea565b60a082015151610f515760405162461bcd60e51b815260040161022a90612a23565b61010082015160ff16610f765760405162461bcd60e51b815260040161022a90612921565b61012082015160ff16610f9b5760405162461bcd60e51b815260040161022a9061298f565b8151600280547fffffffffffffffffffffffff00000000000000000000000000000000000000009081166001600160a01b0393841617825560208086015160038054841691861691909117905560408601516004805484169186169190911790556060860151600580549093169416939093179055608084015160065560a08401518051859361103092600792910190611bfb565b5060c0820151805161104c916006840191602090910190611bfb565b5060e08201518051611068916007840191602090910190611bfb565b506101008281015160088301805461012086015160ff1991821660ff9485161761ff00191693169093029190911790556101408301516009830155610160830151600a830155610180830151600b8301556101a0830151600c8301556101c0830151600d8301556101e0830151600e83015561020090920151600f909101805490921690151517905560028054337fffffffffffffffffffffffff00000000000000000000000000000000000000009091168117909155606083015160a084015160c085015160405161114394939291904290602001612762565b60408051601f198184030181529082905280516020909101206006556011805460ff19166001908117909155547fb808657f0000000000000000000000000000000000000000000000000000000082526001600160a01b0362010000909104169063b808657f906111b990600290600401612cf4565b602060405180830381600087803b1580156111d357600080fd5b505af11580156111e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061120b91906123fa565b5060065460405130919033907f3219b8929f3bd2283b329286bb5d3dd91d1f65dc947a0bdc3c11ab40c3e946b69061124590600290612cf4565b60405180910390a46114ca565b60015460808301516040517f0f09b13e000000000000000000000000000000000000000000000000000000008152620100009092046001600160a01b031691630f09b13e916112a391600401612d7c565b60006040518083038186803b1580156112bb57600080fd5b505afa1580156112cf573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526112f7919081019061225d565b8051600280547fffffffffffffffffffffffff00000000000000000000000000000000000000009081166001600160a01b0393841617825560208085015160038054841691861691909117905560408501516004805484169186169190911790556060850151600580549093169416939093179055608083015160065560a08301518051919261138d9260079290910190611bfb565b5060c082015180516113a9916006840191602090910190611bfb565b5060e082015180516113c5916007840191602090910190611bfb565b506101008281015160088301805461012086015160ff1991821660ff9485161761ff00191693169093029190911790556101408301516009830155610160830151600a830155610180830151600b8301556101a0830151600c8301556101c0830151600d8301556101e0830151600e83015561020090920151600f9091018054909216901515179055600254336001600160a01b039091161461147a5760405162461bcd60e51b815260040161022a9061288d565b6003546006546040516001600160a01b039092169133907f230294b779dce3f3faf55a696666303155b2fc4b26af9a661771719850c27787906114c1903090600290612813565b60405180910390a45b80156114dc576001805461ff00191690555b505050565b600654600090158015906114fc575060115460ff1615156001145b6115185760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff1615156001148061153a57503033145b6115565760405162461bcd60e51b815260040161022a90612aee565b60008260600151511161157b5760405162461bcd60e51b815260040161022a90612a23565b6000826080015151116115a05760405162461bcd60e51b815260040161022a90612c73565b60008260a00151116115c45760405162461bcd60e51b815260040161022a90612caa565b6005546001600160a01b0316604083015260a08201516010546115e79190612e7e565b60c083015260a082015160108054600090611603908490612e7e565b909155505060065460608301516040516116219291906020016127d9565b60408051601f1981840301815291815281516020909201919091208352600654905133907fc01e8bcf22d00eb48a37cd5b470441b2405d1d30b4bc949eb5af3c78c4632e7d90611675906002908790612d35565b60405180910390a36001546006546040517f9a929e32000000000000000000000000000000000000000000000000000000008152620100009092046001600160a01b031691639a929e32916116ce918690600401612dc7565b602060405180830381600087803b1580156116e857600080fd5b505af11580156116fc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c4191906123fa565b3360009081526020819052604090205460ff1615156001148061174257503033145b61175e5760405162461bcd60e51b815260040161022a90612aee565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b6006546060901580159061179d575060115460ff1615156001145b6117b95760405162461bcd60e51b815260040161022a90612ab7565b600154600654604051639b73a6fb60e01b8152620100009092046001600160a01b031691639b73a6fb916117ef91600401612d7c565b60006040518083038186803b15801561180757600080fd5b505afa15801561181b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526118439190810190612001565b905090565b6001600160a01b031660009081526020819052604090205460ff1690565b6006541580159061187e575060115460ff1615156001145b61189a5760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff161515600114806118bc57503033145b6118d85760405162461bcd60e51b815260040161022a90612aee565b6001546040517fa7fc7a07000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063a7fc7a07906119269084906004016127ff565b600060405180830381600087803b15801561194057600080fd5b505af1158015611954573d6000803e3d6000fd5b50506001546040517f750905c40000000000000000000000000000000000000000000000000000000081526001600160a01b03808616945063750905c493506119aa926201000090041690600290600401612813565b600060405180830381600087803b1580156119c457600080fd5b505af11580156119d8573d6000803e3d6000fd5b50505050806001600160a01b0316ff5b3360009081526020819052604090205460ff16151560011480611a0a57503033145b611a265760405162461bcd60e51b815260040161022a90612aee565b336000908152602081905260409020805460ff19169055565b6000806002600e01548310611a665760405162461bcd60e51b815260040161022a90612b4b565b600154600654604051639b73a6fb60e01b81526000928392620100009091046001600160a01b031691639b73a6fb91611aa191600401612d7c565b60006040518083038186803b158015611ab957600080fd5b505afa158015611acd573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611af59190810190612001565b905060005b8151811015611b8e57858311158015611b3d5750818181518110611b2e57634e487b7160e01b600052603260045260246000fd5b602002602001015160c0015186105b15611b4d57809450859350611b8e565b818181518110611b6d57634e487b7160e01b600052603260045260246000fd5b602002602001015160c0015192508080611b8690612f13565b915050611afa565b505050915091565b6040518061014001604052806000815260200160006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160008152602001600081526020016000815260200160008152602001600081525090565b828054611c0790612ed8565b90600052602060002090601f016020900481019282611c295760008555611c6f565b82601f10611c4257805160ff1916838001178555611c6f565b82800160010185558215611c6f579182015b82811115611c6f578251825591602001919060010190611c54565b50611c7b929150611c7f565b5090565b5b80821115611c7b5760008155600101611c80565b8035610c4481612f78565b8051610c4481612f78565b8035610c4481612f90565b8051610c4481612f90565b600082601f830112611cd0578081fd5b8135611ce3611cde82612e4a565b612dfc565b818152846020838601011115611cf7578283fd5b816020850160208301379081016020019190915292915050565b600082601f830112611d21578081fd5b8151611d2f611cde82612e4a565b818152846020838601011115611d43578283fd5b611d54826020830160208701612ea8565b949350505050565b6000610140808385031215611d6f578182fd5b611d7881612dfc565b91505081518152611d8b60208301611c9f565b6020820152611d9c60408301611c9f565b6040820152606082015167ffffffffffffffff80821115611dbc57600080fd5b611dc885838601611d11565b60608401526080840151915080821115611de157600080fd5b50611dee84828501611d11565b60808301525060a082015160a082015260c082015160c082015260e082015160e082015261010080830151818301525061012080830151818301525092915050565b8035610c4481612f9e565b8051610c4481612f9e565b600060208284031215611e57578081fd5b8135611e6281612f78565b9392505050565b60008060408385031215611e7b578081fd5b8235611e8681612f78565b9150602083013567ffffffffffffffff80821115611ea2578283fd5b8185019150610220808388031215611eb8578384fd5b611ec181612dfc565b9050611ecc83611c94565b8152611eda60208401611c94565b6020820152611eeb60408401611c94565b6040820152611efc60608401611c94565b60608201526080830135608082015260a083013582811115611f1c578485fd5b611f2888828601611cc0565b60a08301525060c083013582811115611f3f578485fd5b611f4b88828601611cc0565b60c08301525060e083013582811115611f62578485fd5b611f6e88828601611cc0565b60e0830152506101009150611f84828401611e30565b828201526101209150611f98828401611e30565b918101919091526101408281013590820152610160808301359082015261018080830135908201526101a080830135908201526101c080830135908201526101e0808301359082015261020090611ff0828401611caa565b828201528093505050509250929050565b60006020808385031215612013578182fd5b825167ffffffffffffffff811115612029578283fd5b8301601f81018513612039578283fd5b8051612047611cde82612e26565b81815283810190838501865b8481101561207c5761206a8a888451890101611d5c565b84529286019290860190600101612053565b509098975050505050505050565b6000602080838503121561209c578182fd5b825167ffffffffffffffff8111156120b2578283fd5b8301601f810185136120c2578283fd5b80516120d0611cde82612e26565b81815283810190838501858402850186018910156120ec578687fd5b8694505b8385101561210e5780518352600194909401939185019185016120f0565b50979650505050505050565b60006020828403121561212b578081fd5b8151611e6281612f90565b600060208284031215612147578081fd5b813567ffffffffffffffff8082111561215e578283fd5b8184019150610140808387031215612174578384fd5b61217d81612dfc565b90508235815261218f60208401611c94565b60208201526121a060408401611c94565b60408201526060830135828111156121b6578485fd5b6121c287828601611cc0565b6060830152506080830135828111156121d9578485fd5b6121e587828601611cc0565b60808301525060a0838101359082015260c0808401359082015260e0808401359082015261010080840135908201526101209283013592810192909252509392505050565b60006020828403121561223b578081fd5b815167ffffffffffffffff811115612251578182fd5b611d5484828501611d5c565b60006020828403121561226e578081fd5b815167ffffffffffffffff80821115612285578283fd5b818401915061022080838703121561229b578384fd5b6122a481612dfc565b90506122af83611c9f565b81526122bd60208401611c9f565b60208201526122ce60408401611c9f565b60408201526122df60608401611c9f565b60608201526080830151608082015260a0830151828111156122ff578485fd5b61230b87828601611d11565b60a08301525060c083015182811115612322578485fd5b61232e87828601611d11565b60c08301525060e083015182811115612345578485fd5b61235187828601611d11565b60e0830152506101009150612367828401611e3b565b82820152610120915061237b828401611e3b565b918101919091526101408281015190820152610160808301519082015261018080830151908201526101a080830151908201526101c080830151908201526101e08083015190820152610200906123d3828401611cb5565b91810191909152949350505050565b6000602082840312156123f3578081fd5b5035919050565b60006020828403121561240b578081fd5b5051919050565b60008060408385031215612424578182fd5b823561242f81612f9e565b946020939093013593505050565b6001600160a01b03169052565b6000815180845260208085018081965082840281019150828601855b8581101561249057828403895261247e848351612570565b98850198935090840190600101612466565b5091979650505050505050565b15159052565b600081518084526124bb816020860160208601612ea8565b601f01601f19169290920160200192915050565b8054600090600281046001808316806124e957607f831692505b602080841082141561250957634e487b7160e01b86526022600452602486fd5b6125138489612d7c565b828015612527576001811461253857612563565b60ff19871682528282019750612563565b61254189612e72565b60005b8781101561255d57815484820152908601908401612544565b83019850505b5050505050505092915050565b600061014082518452602083015161258b602086018261243d565b50604083015161259e604086018261243d565b5060608301518160608601526125b6828601826124a3565b915050608083015184820360808601526125d082826124a3565b91505060a083015160a085015260c083015160c085015260e083015160e08501526101008084015181860152506101208084015181860152508091505092915050565b600061022061262b846126268554612e96565b61243d565b6126386001840154612e96565b612645602086018261243d565b506126536002840154612e96565b612660604086018261243d565b5061266e6003840154612e96565b61267b606086018261243d565b50600483015460808501528060a085015261269b818501600585016124cf565b905083810360c08501526126b281600685016124cf565b905083810360e08501526126c981600785016124cf565b905060088301546126e1610100860160ff831661275b565b6126f5610120860160ff8360081c1661275b565b506009830154610140850152600a830154610160850152600b830154610180850152600c8301546101a0850152600d8301546101c0850152600e8301546101e0850152612745600f840154612ea2565b61275361020086018261249d565b509392505050565b60ff169052565b60007fffffffffffffffffffffffffffffffffffffffff000000000000000000000000808860601b168352808760601b1660148401525084516127ac816028850160208901612ea8565b8451908301906127c3816028840160208901612ea8565b0160288101939093525050604801949350505050565b600083825282516127f1816020850160208701612ea8565b919091016020019392505050565b6001600160a01b0391909116815260200190565b60006001600160a01b038416825260406020830152611d546040830184612613565b6001600160a01b03929092168252602082015260400190565b6001600160a01b039390931683526020830191909152604082015260600190565b600060208252611e62602083018461244a565b901515815260200190565b60208082526038908201527f4c6f6f74626f78206d757374206265206f776e6564206279207468652063616c60408201527f6c657220746f20757070677261646520636f6e74726163740000000000000000606082015260800190565b60208082526010908201527f4e616d65206d7573742062652073657400000000000000000000000000000000604082015260600190565b60208082526014908201527f4d696e206c6f6f74206d75737420626520736574000000000000000000000000604082015260600190565b60208082526010908201527f4c6f6f74626f7820697320656d70747900000000000000000000000000000000604082015260600190565b60208082526014908201527f4d6178206c6f6f74206d75737420626520736574000000000000000000000000604082015260600190565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201527f647920696e697469616c697a6564000000000000000000000000000000000000606082015260800190565b60208082526012908201527f53796d626f6c206d757374206265207365740000000000000000000000000000604082015260600190565b60208082526022908201527f496e73756666696369656e74206c6f6f74626f7820746f6b656e2062616c616e60408201527f6365000000000000000000000000000000000000000000000000000000000000606082015260800190565b6020808252601a908201527f4c6f6f74626f78206973206e6f7420696e697469616c697a6564000000000000604082015260600190565b60208082526028908201527f436f6e74726f6c6c61626c653a2063616c6c6572206973206e6f74206120636f60408201527f6e74726f6c6c6572000000000000000000000000000000000000000000000000606082015260800190565b6020808252602d908201527f4469636520726f6c6c206d757374206265206c657373207468616e20746f746160408201527f6c2070726f626162696c69747900000000000000000000000000000000000000606082015260800190565b6020808252602f908201527f4c6f6f74626f782064617461206d75737420626520636f6e74726f6c6c65642060408201527f62792074686973206c6f6f74626f780000000000000000000000000000000000606082015260800190565b6020808252601e908201527f4d756c7469746f6b656e2061646472657373206d757374206265207365740000604082015260600190565b60208082526018908201527f4c6f6f7420696e646578206f7574206f6620626f756e64730000000000000000604082015260600190565b60208082526010908201527f6e616d65206d7573742062652073657400000000000000000000000000000000604082015260600190565b60208082526017908201527f70726f626162696c697479206d75737420626520736574000000000000000000604082015260600190565b600060208252611e626020830184612570565b600060208252611e626020830184612613565b600060408252612d1a6040830185612613565b8281036020840152612d2c818561244a565b95945050505050565b600060408252612d486040830185612613565b8281036020840152612d2c8185612570565b600060408252612d6d6040830185612613565b90508260208301529392505050565b90815260200190565b8381526060810160038410612daa57634e487b7160e01b600052602160045260246000fd5b8360208301526001600160a01b0383166040830152949350505050565b600083825260406020830152611d546040830184612570565b918252602082015260400190565b60ff91909116815260200190565b60405181810167ffffffffffffffff81118282101715612e1e57612e1e612f62565b604052919050565b600067ffffffffffffffff821115612e4057612e40612f62565b5060209081020190565b600067ffffffffffffffff821115612e6457612e64612f62565b50601f01601f191660200190565b60009081526020902090565b60008219821115612e9157612e91612f4c565b500190565b6001600160a01b031690565b60ff1690565b60005b83811015612ec3578181015183820152602001612eab565b83811115612ed2576000848401525b50505050565b600281046001821680612eec57607f821691505b60208210811415612f0d57634e487b7160e01b600052602260045260246000fd5b50919050565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415612f4557612f45612f4c565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114612f8d57600080fd5b50565b8015158114612f8d57600080fd5b60ff81168114612f8d57600080fdfea26469706673582212206a7194ff0e15a23b31224329c1f0e024e1d0f95bd0e2ddda860028a3a197c22164736f6c63430008000033a26469706673582212202841c5ba5379202850fec508061725fe9451b4c157153e748279ab17d57d3a2864736f6c63430008000033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100c95760003560e01c80638a566e7111610081578063c4d66de81161005b578063c4d66de814610184578063ce5494bb14610197578063e1c28bef146101aa576100c9565b80638a566e7114610149578063a7fc7a071461015c578063b429afeb14610171576100c9565b8063516d16b9116100b2578063516d16b91461010c5780635213b7ff146101215780635d61017714610134576100c9565b806301768052146100ce578063392e53cd146100f7575b600080fd5b6100e16100dc366004611116565b6101b2565b6040516100ee91906112d2565b60405180910390f35b6100ff610298565b6040516100ee9190611386565b6101146102af565b6040516100ee91906115cc565b6100e161012f366004611116565b61036b565b61013c6103ea565b6040516100ee9190611308565b6100e1610157366004610e90565b6104a5565b61016f61016a366004610e6d565b6107fb565b005b6100ff61017f366004610e6d565b61085d565b61016f610192366004610e6d565b61087b565b61016f6101a5366004610e6d565b6109de565b61016f610b57565b6001546000906201000090046001600160a01b03166101ec5760405162461bcd60e51b81526004016101e390611491565b60405180910390fd5b6001546040517f01768052000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063017680529061023a9085906004016115cc565b60006040518083038186803b15801561025257600080fd5b505afa158015610266573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261028e91908101906110e3565b6020015192915050565b6001546201000090046001600160a01b0316151590565b6001546000906201000090046001600160a01b03166102e05760405162461bcd60e51b81526004016101e390611491565b600160029054906101000a90046001600160a01b03166001600160a01b031663516d16b96040518163ffffffff1660e01b815260040160206040518083038186803b15801561032e57600080fd5b505afa158015610342573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610366919061112e565b905090565b6001546000906201000090046001600160a01b031661039c5760405162461bcd60e51b81526004016101e390611491565b6001546040517fbb0492f5000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063bb0492f59061023a9085906004016115cc565b6001546060906201000090046001600160a01b031661041b5760405162461bcd60e51b81526004016101e390611491565b600160029054906101000a90046001600160a01b03166001600160a01b0316635d6101776040518163ffffffff1660e01b815260040160006040518083038186803b15801561046957600080fd5b505afa15801561047d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526103669190810190611028565b6001546000906201000090046001600160a01b03166104d65760405162461bcd60e51b81526004016101e390611491565b60008260a001516040516020016104ed91906112b6565b60408051601f198184030181529082905280516020909101206001547fbb0492f5000000000000000000000000000000000000000000000000000000008352909250600091620100009091046001600160a01b03169063bb0492f5906105579085906004016115cc565b60006040518083038186803b15801561056f57600080fd5b505afa158015610583573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105ab91908101906110e3565b602001516001600160a01b0316146105d55760405162461bcd60e51b81526004016101e3906113c6565b6000604051806020016105e790610c28565b601f1982820381018352601f90910116604052905061060860008383610bae565b6040517fa7fc7a070000000000000000000000000000000000000000000000000000000081529093506001600160a01b0384169063a7fc7a07906106509088906004016112d2565b600060405180830381600087803b15801561066a57600080fd5b505af115801561067e573d6000803e3d6000fd5b50506001546040517f750905c40000000000000000000000000000000000000000000000000000000081526001600160a01b03808816945063750905c493506106d392620100009004169088906004016112e6565b600060405180830381600087803b1580156106ed57600080fd5b505af1158015610701573d6000803e3d6000fd5b5050506001600160a01b0380851660208701526001546040517fb808657f00000000000000000000000000000000000000000000000000000000815262010000909104909116915063b808657f9061075d9087906004016115b9565b602060405180830381600087803b15801561077757600080fd5b505af115801561078b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107af919061112e565b507febdece307040380e581eac4e5f85334ff3773563045c69102f0007dc84840e4584608001518560200151866040516107eb939291906115d5565b60405180910390a1505092915050565b3360009081526020819052604090205460ff1615156001148061081d57503033145b6108395760405162461bcd60e51b81526004016101e3906114c8565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b6001600160a01b031660009081526020819052604090205460ff1690565b600154610100900460ff1680610894575060015460ff16155b6108b05760405162461bcd60e51b81526004016101e3906113fd565b600154610100900460ff161580156108da576001805460ff1961ff00199091166101001716811790555b6040517fb429afeb0000000000000000000000000000000000000000000000000000000081526001600160a01b0383169063b429afeb9061091f9030906004016112d2565b60206040518083038186803b15801561093757600080fd5b505afa15801561094b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061096f91906110c7565b15156001146109905760405162461bcd60e51b81526004016101e390611525565b600180547fffffffffffffffffffff0000000000000000000000000000000000000000ffff16620100006001600160a01b0385160217905580156109da576001805461ff00191690555b5050565b6001546201000090046001600160a01b0316610a0c5760405162461bcd60e51b81526004016101e390611491565b3360009081526020819052604090205460ff16151560011480610a2e57503033145b610a4a5760405162461bcd60e51b81526004016101e3906114c8565b6001546040517fa7fc7a07000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063a7fc7a0790610a989084906004016112d2565b600060405180830381600087803b158015610ab257600080fd5b505af1158015610ac6573d6000803e3d6000fd5b50506001546040517fc4d66de80000000000000000000000000000000000000000000000000000000081526001600160a01b03808616945063c4d66de89350610b199262010000900416906004016112d2565b600060405180830381600087803b158015610b3357600080fd5b505af1158015610b47573d6000803e3d6000fd5b50505050806001600160a01b0316ff5b3360009081526020819052604090205460ff16151560011480610b7957503033145b610b955760405162461bcd60e51b81526004016101e3906114c8565b336000908152602081905260409020805460ff19169055565b60008084471015610bd15760405162461bcd60e51b81526004016101e390611582565b8251610bef5760405162461bcd60e51b81526004016101e390611391565b8383516020850187f590506001600160a01b038116610c205760405162461bcd60e51b81526004016101e39061145a565b949350505050565b613036806116ed83390190565b8035610c40816116b7565b919050565b8051610c40816116b7565b8035610c40816116cf565b8051610c40816116cf565b600082601f830112610c76578081fd5b8135610c89610c8482611630565b611606565b818152846020838601011115610c9d578283fd5b816020850160208301379081016020019190915292915050565b600082601f830112610cc7578081fd5b8151610cd5610c8482611630565b818152846020838601011115610ce9578283fd5b610c20826020830160208701611658565b6000610220808385031215610d0d578182fd5b610d1681611606565b915050610d2282610c45565b8152610d3060208301610c45565b6020820152610d4160408301610c45565b6040820152610d5260608301610c45565b60608201526080820151608082015260a082015167ffffffffffffffff80821115610d7c57600080fd5b610d8885838601610cb7565b60a084015260c0840151915080821115610da157600080fd5b610dad85838601610cb7565b60c084015260e0840151915080821115610dc657600080fd5b50610dd384828501610cb7565b60e083015250610100610de7818401610e62565b90820152610120610df9838201610e62565b908201526101408281015190820152610160808301519082015261018080830151908201526101a080830151908201526101c080830151908201526101e08083015190820152610200610e4d818401610c5b565b9082015292915050565b8035610c40816116dd565b8051610c40816116dd565b600060208284031215610e7e578081fd5b8135610e89816116b7565b9392505050565b60008060408385031215610ea2578081fd5b8235610ead816116b7565b9150602083013567ffffffffffffffff80821115610ec9578283fd5b8185019150610220808388031215610edf578384fd5b610ee881611606565b9050610ef383610c35565b8152610f0160208401610c35565b6020820152610f1260408401610c35565b6040820152610f2360608401610c35565b60608201526080830135608082015260a083013582811115610f43578485fd5b610f4f88828601610c66565b60a08301525060c083013582811115610f66578485fd5b610f7288828601610c66565b60c08301525060e083013582811115610f89578485fd5b610f9588828601610c66565b60e0830152506101009150610fab828401610e57565b828201526101209150610fbf828401610e57565b918101919091526101408281013590820152610160808301359082015261018080830135908201526101a080830135908201526101c080830135908201526101e0808301359082015261020090611017828401610c50565b828201528093505050509250929050565b6000602080838503121561103a578182fd5b825167ffffffffffffffff80821115611051578384fd5b818501915085601f830112611064578384fd5b81518181111561107657611076611688565b6110838485830201611606565b8181528481019250838501865b838110156110b9576110a78a888451890101610cfa565b85529386019390860190600101611090565b509098975050505050505050565b6000602082840312156110d8578081fd5b8151610e89816116cf565b6000602082840312156110f4578081fd5b815167ffffffffffffffff81111561110a578182fd5b610c2084828501610cfa565b600060208284031215611127578081fd5b5035919050565b60006020828403121561113f578081fd5b5051919050565b6001600160a01b03169052565b15159052565b60008151808452611171816020860160208601611658565b601f01601f19169290920160200192915050565b6000610220611195848451611146565b60208301516111a76020860182611146565b5060408301516111ba6040860182611146565b5060608301516111cd6060860182611146565b506080830151608085015260a08301518160a08601526111ef82860182611159565b91505060c083015184820360c08601526112098282611159565b91505060e083015184820360e08601526112238282611159565b91505061010080840151611239828701826112af565b50506101208084015161124e828701826112af565b50506101408381015190850152610160808401519085015261018080840151908501526101a080840151908501526101c080840151908501526101e08084015190850152610200808401516112a582870182611153565b5090949350505050565b60ff169052565b600082516112c8818460208701611658565b9190910192915050565b6001600160a01b0391909116815260200190565b60006001600160a01b038416825260406020830152610c206040830184611185565b6000602080830181845280855180835260408601915060408482028701019250838701855b82811015611379577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0888603018452611367858351611185565b9450928501929085019060010161132d565b5092979650505050505050565b901515815260200190565b6020808252818101527f437265617465323a2062797465636f6465206c656e677468206973207a65726f604082015260600190565b6020808252600e908201527f4c6f6f74626f7820455849535453000000000000000000000000000000000000604082015260600190565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201527f647920696e697469616c697a6564000000000000000000000000000000000000606082015260800190565b60208082526019908201527f437265617465323a204661696c6564206f6e206465706c6f7900000000000000604082015260600190565b6020808252601a908201527f4c6f6f74626f78206973206e6f7420696e697469616c697a6564000000000000604082015260600190565b60208082526028908201527f436f6e74726f6c6c61626c653a2063616c6c6572206973206e6f74206120636f60408201527f6e74726f6c6c6572000000000000000000000000000000000000000000000000606082015260800190565b60208082526037908201527f4c6f6f74626f782064617461206d75737420626520636f6e74726f6c6c65642060408201527f62792074686973206c6f6f74626f7820666163746f7279000000000000000000606082015260800190565b6020808252601d908201527f437265617465323a20696e73756666696369656e742062616c616e6365000000604082015260600190565b600060208252610e896020830184611185565b90815260200190565b60008482526001600160a01b0384166020830152606060408301526115fd6060830184611185565b95945050505050565b60405181810167ffffffffffffffff8111828210171561162857611628611688565b604052919050565b600067ffffffffffffffff82111561164a5761164a611688565b50601f01601f191660200190565b60005b8381101561167357818101518382015260200161165b565b83811115611682576000848401525b50505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6001600160a01b03811681146116cc57600080fd5b50565b80151581146116cc57600080fd5b60ff811681146116cc57600080fdfe608060405234801561001057600080fd5b5061001a3361001f565b610043565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b612fe380620000536000396000f3fe608060405234801561001057600080fd5b50600436106100df5760003560e01c8063750905c41161008c578063b2cd3b9a11610066578063b2cd3b9a146101ab578063b429afeb146101b3578063ce5494bb146101d3578063e1c28bef146101e6576100df565b8063750905c41461017257806380d9157414610185578063a7fc7a0714610198576100df565b8063425ce651116100bd578063425ce6511461013757806360b71d4e1461014a5780636db110701461015f576100df565b80630ab6d2e3146100e4578063164e68de1461010d5780633cda54e514610122575b600080fd5b6100f76100f2366004612412565b6101ee565b6040516101049190612ce1565b60405180910390f35b61012061011b366004611e46565b6104fd565b005b61012a6105c8565b604051610104919061286f565b6100f76101453660046123e2565b610b60565b610152610c49565b6040516101049190612d7c565b61012061016d3660046123e2565b610c4d565b610120610180366004611e69565b610d8d565b610152610193366004612136565b6114e1565b6101206101a6366004611e46565b611720565b61012a611782565b6101c66101c1366004611e46565b611848565b6040516101049190612882565b6101206101e1366004611e46565b611866565b6101206119e8565b6101f6611b96565b6006541580159061020e575060115460ff1615156001145b6102335760405162461bcd60e51b815260040161022a90612ab7565b60405180910390fd5b3360009081526020819052604090205460ff1615156001148061025557503033145b6102715760405162461bcd60e51b815260040161022a90612aee565b600154600654604051639b73a6fb60e01b81526000926201000090046001600160a01b031691639b73a6fb916102aa9190600401612d7c565b60006040518083038186803b1580156102c257600080fd5b505afa1580156102d6573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526102fe9190810190612001565b905080518460ff16106103235760405162461bcd60e51b815260040161022a90612c3c565b60055481516001600160a01b039091169063156e29f6903390849060ff891690811061035f57634e487b7160e01b600052603260045260246000fd5b602002602001015160000151866040518463ffffffff1660e01b815260040161038a9392919061284e565b600060405180830381600087803b1580156103a457600080fd5b505af11580156103b8573d6000803e3d6000fd5b505060055483516001600160a01b039091169250637c8810769150839060ff88169081106103f657634e487b7160e01b600052603260045260246000fd5b6020026020010151600001516000306040518463ffffffff1660e01b815260040161042393929190612d85565b600060405180830381600087803b15801561043d57600080fd5b505af1158015610451573d6000803e3d6000fd5b50505050600260040154336001600160a01b03167f6b7ed3c7af25f1268ba90e9f0f83a4178dab4d75a0ef9524530268406cb88c586002848860ff16815181106104ab57634e487b7160e01b600052603260045260246000fd5b60200260200101516040516104c1929190612d35565b60405180910390a3808460ff16815181106104ec57634e487b7160e01b600052603260045260246000fd5b602002602001015191505092915050565b60065415801590610515575060115460ff1615156001145b6105315760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff1615156001148061055357503033145b61056f5760405162461bcd60e51b815260040161022a90612aee565b6000471161058f5760405162461bcd60e51b815260040161022a90612958565b6040516001600160a01b038216904780156108fc02916000818181858888f193505050501580156105c4573d6000803e3d6000fd5b5050565b600654606090158015906105e3575060115460ff1615156001145b6105ff5760405162461bcd60e51b815260040161022a90612ab7565b6005546006546040517efdd58e0000000000000000000000000000000000000000000000000000000081526000926001600160a01b03169162fdd58e9161064a913391600401612835565b60206040518083038186803b15801561066257600080fd5b505afa158015610676573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069a91906123fa565b116106b75760405162461bcd60e51b815260040161022a90612a5a565b6005546006546040517ff5298aca0000000000000000000000000000000000000000000000000000000081526001600160a01b039092169163f5298aca916107079133919060019060040161284e565b600060405180830381600087803b15801561072157600080fd5b505af1158015610735573d6000803e3d6000fd5b5050600a5460ff808216935061010090910416821490506108005760048054600a546040517f6e68fc0a0000000000000000000000000000000000000000000000000000000081526001600160a01b0390921692636e68fc0a926107a79260ff80821693610100909204169101612de0565b602060405180830381600087803b1580156107c157600080fd5b505af11580156107d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107f991906123fa565b9050610808565b50600a5460ff165b8060ff1667ffffffffffffffff81111561083257634e487b7160e01b600052604160045260246000fd5b60405190808252806020026020018201604052801561086b57816020015b610858611b96565b8152602001906001900390816108505790505b50600154600654604051639b73a6fb60e01b8152929450600092620100009092046001600160a01b031691639b73a6fb916108a891600401612d7c565b60006040518083038186803b1580156108c057600080fd5b505afa1580156108d4573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526108fc9190810190612001565b600480546040517f82da649a0000000000000000000000000000000000000000000000000000000081529293506000926001600160a01b03909116916382da649a9161094a91879101612dee565b600060405180830381600087803b15801561096457600080fd5b505af1158015610978573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526109a0919081019061208a565b905060005b8360ff16811015610b19576000806109e38484815181106109d657634e487b7160e01b600052603260045260246000fd5b6020026020010151611a3f565b91509150848260ff1681518110610a0a57634e487b7160e01b600052603260045260246000fd5b6020026020010151878481518110610a3257634e487b7160e01b600052603260045260246000fd5b602002602001018190525080878481518110610a5e57634e487b7160e01b600052603260045260246000fd5b602090810291909101015160e0015260055487516001600160a01b039091169063156e29f69033908a9087908110610aa657634e487b7160e01b600052603260045260246000fd5b60200260200101516000015160016040518463ffffffff1660e01b8152600401610ad29392919061284e565b600060405180830381600087803b158015610aec57600080fd5b505af1158015610b00573d6000803e3d6000fd5b5050505050508080610b1190612f13565b9150506109a5565b5060065460405133907f0e7b17025110b42cd45dde2220395802812ce23fcb03711f341f27713c68c96590610b52906002908990612d07565b60405180910390a350505090565b610b68611b96565b60065415801590610b80575060115460ff1615156001145b610b9c5760405162461bcd60e51b815260040161022a90612ab7565b6001546006546040517f53b8a864000000000000000000000000000000000000000000000000000000008152620100009092046001600160a01b0316916353b8a86491610bed918690600401612de0565b60006040518083038186803b158015610c0557600080fd5b505afa158015610c19573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610c41919081019061222a565b90505b919050565b4790565b60065415801590610c65575060115460ff1615156001145b610c815760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff16151560011480610ca357503033145b610cbf5760405162461bcd60e51b815260040161022a90612aee565b6005546006546040517f156e29f60000000000000000000000000000000000000000000000000000000081526001600160a01b039092169163156e29f691610d0e91339190869060040161284e565b600060405180830381600087803b158015610d2857600080fd5b505af1158015610d3c573d6000803e3d6000fd5b50505050600260040154336001600160a01b03167fe1c77fff6d5d8234a456feb82f90b8951c86c0f89d25560cafcc8b7132282486600284604051610d82929190612d5a565b60405180910390a350565b600154610100900460ff1680610da6575060015460ff16155b610dc25760405162461bcd60e51b815260040161022a906129c6565b600154610100900460ff16158015610dec576001805460ff1961ff00199091166101001716811790555b6040517fb429afeb0000000000000000000000000000000000000000000000000000000081526001600160a01b0384169063b429afeb90610e319030906004016127ff565b60206040518083038186803b158015610e4957600080fd5b505afa158015610e5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e81919061211a565b1515600114610ea25760405162461bcd60e51b815260040161022a90612ba8565b600180547fffffffffffffffffffff0000000000000000000000000000000000000000ffff16620100006001600160a01b0386160217905560808201516112525760608201516001600160a01b0316610f0d5760405162461bcd60e51b815260040161022a90612c05565b60c082015151610f2f5760405162461bcd60e51b815260040161022a906128ea565b60a082015151610f515760405162461bcd60e51b815260040161022a90612a23565b61010082015160ff16610f765760405162461bcd60e51b815260040161022a90612921565b61012082015160ff16610f9b5760405162461bcd60e51b815260040161022a9061298f565b8151600280547fffffffffffffffffffffffff00000000000000000000000000000000000000009081166001600160a01b0393841617825560208086015160038054841691861691909117905560408601516004805484169186169190911790556060860151600580549093169416939093179055608084015160065560a08401518051859361103092600792910190611bfb565b5060c0820151805161104c916006840191602090910190611bfb565b5060e08201518051611068916007840191602090910190611bfb565b506101008281015160088301805461012086015160ff1991821660ff9485161761ff00191693169093029190911790556101408301516009830155610160830151600a830155610180830151600b8301556101a0830151600c8301556101c0830151600d8301556101e0830151600e83015561020090920151600f909101805490921690151517905560028054337fffffffffffffffffffffffff00000000000000000000000000000000000000009091168117909155606083015160a084015160c085015160405161114394939291904290602001612762565b60408051601f198184030181529082905280516020909101206006556011805460ff19166001908117909155547fb808657f0000000000000000000000000000000000000000000000000000000082526001600160a01b0362010000909104169063b808657f906111b990600290600401612cf4565b602060405180830381600087803b1580156111d357600080fd5b505af11580156111e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061120b91906123fa565b5060065460405130919033907f3219b8929f3bd2283b329286bb5d3dd91d1f65dc947a0bdc3c11ab40c3e946b69061124590600290612cf4565b60405180910390a46114ca565b60015460808301516040517f0f09b13e000000000000000000000000000000000000000000000000000000008152620100009092046001600160a01b031691630f09b13e916112a391600401612d7c565b60006040518083038186803b1580156112bb57600080fd5b505afa1580156112cf573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526112f7919081019061225d565b8051600280547fffffffffffffffffffffffff00000000000000000000000000000000000000009081166001600160a01b0393841617825560208085015160038054841691861691909117905560408501516004805484169186169190911790556060850151600580549093169416939093179055608083015160065560a08301518051919261138d9260079290910190611bfb565b5060c082015180516113a9916006840191602090910190611bfb565b5060e082015180516113c5916007840191602090910190611bfb565b506101008281015160088301805461012086015160ff1991821660ff9485161761ff00191693169093029190911790556101408301516009830155610160830151600a830155610180830151600b8301556101a0830151600c8301556101c0830151600d8301556101e0830151600e83015561020090920151600f9091018054909216901515179055600254336001600160a01b039091161461147a5760405162461bcd60e51b815260040161022a9061288d565b6003546006546040516001600160a01b039092169133907f230294b779dce3f3faf55a696666303155b2fc4b26af9a661771719850c27787906114c1903090600290612813565b60405180910390a45b80156114dc576001805461ff00191690555b505050565b600654600090158015906114fc575060115460ff1615156001145b6115185760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff1615156001148061153a57503033145b6115565760405162461bcd60e51b815260040161022a90612aee565b60008260600151511161157b5760405162461bcd60e51b815260040161022a90612a23565b6000826080015151116115a05760405162461bcd60e51b815260040161022a90612c73565b60008260a00151116115c45760405162461bcd60e51b815260040161022a90612caa565b6005546001600160a01b0316604083015260a08201516010546115e79190612e7e565b60c083015260a082015160108054600090611603908490612e7e565b909155505060065460608301516040516116219291906020016127d9565b60408051601f1981840301815291815281516020909201919091208352600654905133907fc01e8bcf22d00eb48a37cd5b470441b2405d1d30b4bc949eb5af3c78c4632e7d90611675906002908790612d35565b60405180910390a36001546006546040517f9a929e32000000000000000000000000000000000000000000000000000000008152620100009092046001600160a01b031691639a929e32916116ce918690600401612dc7565b602060405180830381600087803b1580156116e857600080fd5b505af11580156116fc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c4191906123fa565b3360009081526020819052604090205460ff1615156001148061174257503033145b61175e5760405162461bcd60e51b815260040161022a90612aee565b6001600160a01b03166000908152602081905260409020805460ff19166001179055565b6006546060901580159061179d575060115460ff1615156001145b6117b95760405162461bcd60e51b815260040161022a90612ab7565b600154600654604051639b73a6fb60e01b8152620100009092046001600160a01b031691639b73a6fb916117ef91600401612d7c565b60006040518083038186803b15801561180757600080fd5b505afa15801561181b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526118439190810190612001565b905090565b6001600160a01b031660009081526020819052604090205460ff1690565b6006541580159061187e575060115460ff1615156001145b61189a5760405162461bcd60e51b815260040161022a90612ab7565b3360009081526020819052604090205460ff161515600114806118bc57503033145b6118d85760405162461bcd60e51b815260040161022a90612aee565b6001546040517fa7fc7a07000000000000000000000000000000000000000000000000000000008152620100009091046001600160a01b03169063a7fc7a07906119269084906004016127ff565b600060405180830381600087803b15801561194057600080fd5b505af1158015611954573d6000803e3d6000fd5b50506001546040517f750905c40000000000000000000000000000000000000000000000000000000081526001600160a01b03808616945063750905c493506119aa926201000090041690600290600401612813565b600060405180830381600087803b1580156119c457600080fd5b505af11580156119d8573d6000803e3d6000fd5b50505050806001600160a01b0316ff5b3360009081526020819052604090205460ff16151560011480611a0a57503033145b611a265760405162461bcd60e51b815260040161022a90612aee565b336000908152602081905260409020805460ff19169055565b6000806002600e01548310611a665760405162461bcd60e51b815260040161022a90612b4b565b600154600654604051639b73a6fb60e01b81526000928392620100009091046001600160a01b031691639b73a6fb91611aa191600401612d7c565b60006040518083038186803b158015611ab957600080fd5b505afa158015611acd573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611af59190810190612001565b905060005b8151811015611b8e57858311158015611b3d5750818181518110611b2e57634e487b7160e01b600052603260045260246000fd5b602002602001015160c0015186105b15611b4d57809450859350611b8e565b818181518110611b6d57634e487b7160e01b600052603260045260246000fd5b602002602001015160c0015192508080611b8690612f13565b915050611afa565b505050915091565b6040518061014001604052806000815260200160006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160008152602001600081526020016000815260200160008152602001600081525090565b828054611c0790612ed8565b90600052602060002090601f016020900481019282611c295760008555611c6f565b82601f10611c4257805160ff1916838001178555611c6f565b82800160010185558215611c6f579182015b82811115611c6f578251825591602001919060010190611c54565b50611c7b929150611c7f565b5090565b5b80821115611c7b5760008155600101611c80565b8035610c4481612f78565b8051610c4481612f78565b8035610c4481612f90565b8051610c4481612f90565b600082601f830112611cd0578081fd5b8135611ce3611cde82612e4a565b612dfc565b818152846020838601011115611cf7578283fd5b816020850160208301379081016020019190915292915050565b600082601f830112611d21578081fd5b8151611d2f611cde82612e4a565b818152846020838601011115611d43578283fd5b611d54826020830160208701612ea8565b949350505050565b6000610140808385031215611d6f578182fd5b611d7881612dfc565b91505081518152611d8b60208301611c9f565b6020820152611d9c60408301611c9f565b6040820152606082015167ffffffffffffffff80821115611dbc57600080fd5b611dc885838601611d11565b60608401526080840151915080821115611de157600080fd5b50611dee84828501611d11565b60808301525060a082015160a082015260c082015160c082015260e082015160e082015261010080830151818301525061012080830151818301525092915050565b8035610c4481612f9e565b8051610c4481612f9e565b600060208284031215611e57578081fd5b8135611e6281612f78565b9392505050565b60008060408385031215611e7b578081fd5b8235611e8681612f78565b9150602083013567ffffffffffffffff80821115611ea2578283fd5b8185019150610220808388031215611eb8578384fd5b611ec181612dfc565b9050611ecc83611c94565b8152611eda60208401611c94565b6020820152611eeb60408401611c94565b6040820152611efc60608401611c94565b60608201526080830135608082015260a083013582811115611f1c578485fd5b611f2888828601611cc0565b60a08301525060c083013582811115611f3f578485fd5b611f4b88828601611cc0565b60c08301525060e083013582811115611f62578485fd5b611f6e88828601611cc0565b60e0830152506101009150611f84828401611e30565b828201526101209150611f98828401611e30565b918101919091526101408281013590820152610160808301359082015261018080830135908201526101a080830135908201526101c080830135908201526101e0808301359082015261020090611ff0828401611caa565b828201528093505050509250929050565b60006020808385031215612013578182fd5b825167ffffffffffffffff811115612029578283fd5b8301601f81018513612039578283fd5b8051612047611cde82612e26565b81815283810190838501865b8481101561207c5761206a8a888451890101611d5c565b84529286019290860190600101612053565b509098975050505050505050565b6000602080838503121561209c578182fd5b825167ffffffffffffffff8111156120b2578283fd5b8301601f810185136120c2578283fd5b80516120d0611cde82612e26565b81815283810190838501858402850186018910156120ec578687fd5b8694505b8385101561210e5780518352600194909401939185019185016120f0565b50979650505050505050565b60006020828403121561212b578081fd5b8151611e6281612f90565b600060208284031215612147578081fd5b813567ffffffffffffffff8082111561215e578283fd5b8184019150610140808387031215612174578384fd5b61217d81612dfc565b90508235815261218f60208401611c94565b60208201526121a060408401611c94565b60408201526060830135828111156121b6578485fd5b6121c287828601611cc0565b6060830152506080830135828111156121d9578485fd5b6121e587828601611cc0565b60808301525060a0838101359082015260c0808401359082015260e0808401359082015261010080840135908201526101209283013592810192909252509392505050565b60006020828403121561223b578081fd5b815167ffffffffffffffff811115612251578182fd5b611d5484828501611d5c565b60006020828403121561226e578081fd5b815167ffffffffffffffff80821115612285578283fd5b818401915061022080838703121561229b578384fd5b6122a481612dfc565b90506122af83611c9f565b81526122bd60208401611c9f565b60208201526122ce60408401611c9f565b60408201526122df60608401611c9f565b60608201526080830151608082015260a0830151828111156122ff578485fd5b61230b87828601611d11565b60a08301525060c083015182811115612322578485fd5b61232e87828601611d11565b60c08301525060e083015182811115612345578485fd5b61235187828601611d11565b60e0830152506101009150612367828401611e3b565b82820152610120915061237b828401611e3b565b918101919091526101408281015190820152610160808301519082015261018080830151908201526101a080830151908201526101c080830151908201526101e08083015190820152610200906123d3828401611cb5565b91810191909152949350505050565b6000602082840312156123f3578081fd5b5035919050565b60006020828403121561240b578081fd5b5051919050565b60008060408385031215612424578182fd5b823561242f81612f9e565b946020939093013593505050565b6001600160a01b03169052565b6000815180845260208085018081965082840281019150828601855b8581101561249057828403895261247e848351612570565b98850198935090840190600101612466565b5091979650505050505050565b15159052565b600081518084526124bb816020860160208601612ea8565b601f01601f19169290920160200192915050565b8054600090600281046001808316806124e957607f831692505b602080841082141561250957634e487b7160e01b86526022600452602486fd5b6125138489612d7c565b828015612527576001811461253857612563565b60ff19871682528282019750612563565b61254189612e72565b60005b8781101561255d57815484820152908601908401612544565b83019850505b5050505050505092915050565b600061014082518452602083015161258b602086018261243d565b50604083015161259e604086018261243d565b5060608301518160608601526125b6828601826124a3565b915050608083015184820360808601526125d082826124a3565b91505060a083015160a085015260c083015160c085015260e083015160e08501526101008084015181860152506101208084015181860152508091505092915050565b600061022061262b846126268554612e96565b61243d565b6126386001840154612e96565b612645602086018261243d565b506126536002840154612e96565b612660604086018261243d565b5061266e6003840154612e96565b61267b606086018261243d565b50600483015460808501528060a085015261269b818501600585016124cf565b905083810360c08501526126b281600685016124cf565b905083810360e08501526126c981600785016124cf565b905060088301546126e1610100860160ff831661275b565b6126f5610120860160ff8360081c1661275b565b506009830154610140850152600a830154610160850152600b830154610180850152600c8301546101a0850152600d8301546101c0850152600e8301546101e0850152612745600f840154612ea2565b61275361020086018261249d565b509392505050565b60ff169052565b60007fffffffffffffffffffffffffffffffffffffffff000000000000000000000000808860601b168352808760601b1660148401525084516127ac816028850160208901612ea8565b8451908301906127c3816028840160208901612ea8565b0160288101939093525050604801949350505050565b600083825282516127f1816020850160208701612ea8565b919091016020019392505050565b6001600160a01b0391909116815260200190565b60006001600160a01b038416825260406020830152611d546040830184612613565b6001600160a01b03929092168252602082015260400190565b6001600160a01b039390931683526020830191909152604082015260600190565b600060208252611e62602083018461244a565b901515815260200190565b60208082526038908201527f4c6f6f74626f78206d757374206265206f776e6564206279207468652063616c60408201527f6c657220746f20757070677261646520636f6e74726163740000000000000000606082015260800190565b60208082526010908201527f4e616d65206d7573742062652073657400000000000000000000000000000000604082015260600190565b60208082526014908201527f4d696e206c6f6f74206d75737420626520736574000000000000000000000000604082015260600190565b60208082526010908201527f4c6f6f74626f7820697320656d70747900000000000000000000000000000000604082015260600190565b60208082526014908201527f4d6178206c6f6f74206d75737420626520736574000000000000000000000000604082015260600190565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201527f647920696e697469616c697a6564000000000000000000000000000000000000606082015260800190565b60208082526012908201527f53796d626f6c206d757374206265207365740000000000000000000000000000604082015260600190565b60208082526022908201527f496e73756666696369656e74206c6f6f74626f7820746f6b656e2062616c616e60408201527f6365000000000000000000000000000000000000000000000000000000000000606082015260800190565b6020808252601a908201527f4c6f6f74626f78206973206e6f7420696e697469616c697a6564000000000000604082015260600190565b60208082526028908201527f436f6e74726f6c6c61626c653a2063616c6c6572206973206e6f74206120636f60408201527f6e74726f6c6c6572000000000000000000000000000000000000000000000000606082015260800190565b6020808252602d908201527f4469636520726f6c6c206d757374206265206c657373207468616e20746f746160408201527f6c2070726f626162696c69747900000000000000000000000000000000000000606082015260800190565b6020808252602f908201527f4c6f6f74626f782064617461206d75737420626520636f6e74726f6c6c65642060408201527f62792074686973206c6f6f74626f780000000000000000000000000000000000606082015260800190565b6020808252601e908201527f4d756c7469746f6b656e2061646472657373206d757374206265207365740000604082015260600190565b60208082526018908201527f4c6f6f7420696e646578206f7574206f6620626f756e64730000000000000000604082015260600190565b60208082526010908201527f6e616d65206d7573742062652073657400000000000000000000000000000000604082015260600190565b60208082526017908201527f70726f626162696c697479206d75737420626520736574000000000000000000604082015260600190565b600060208252611e626020830184612570565b600060208252611e626020830184612613565b600060408252612d1a6040830185612613565b8281036020840152612d2c818561244a565b95945050505050565b600060408252612d486040830185612613565b8281036020840152612d2c8185612570565b600060408252612d6d6040830185612613565b90508260208301529392505050565b90815260200190565b8381526060810160038410612daa57634e487b7160e01b600052602160045260246000fd5b8360208301526001600160a01b0383166040830152949350505050565b600083825260406020830152611d546040830184612570565b918252602082015260400190565b60ff91909116815260200190565b60405181810167ffffffffffffffff81118282101715612e1e57612e1e612f62565b604052919050565b600067ffffffffffffffff821115612e4057612e40612f62565b5060209081020190565b600067ffffffffffffffff821115612e6457612e64612f62565b50601f01601f191660200190565b60009081526020902090565b60008219821115612e9157612e91612f4c565b500190565b6001600160a01b031690565b60ff1690565b60005b83811015612ec3578181015183820152602001612eab565b83811115612ed2576000848401525b50505050565b600281046001821680612eec57607f821691505b60208210811415612f0d57634e487b7160e01b600052602260045260246000fd5b50919050565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415612f4557612f45612f4c565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114612f8d57600080fd5b50565b8015158114612f8d57600080fd5b60ff81168114612f8d57600080fdfea26469706673582212206a7194ff0e15a23b31224329c1f0e024e1d0f95bd0e2ddda860028a3a197c22164736f6c63430008000033a26469706673582212202841c5ba5379202850fec508061725fe9451b4c157153e748279ab17d57d3a2864736f6c63430008000033",
  "libraries": {
    "Strings": "0xeB3E79099663eC952e02E608E00d463F36b4Fb75",
    "AddressSet": "0x8974D57fCfF9C10E9d41709da86d006604D8c75d",
    "UInt256Set": "0x8B6893DB13b55d4952a51d5188215e2a470515a9",
    "Create2": "0xBa85d3e8E0F9e48F5c21649d33f6d0f9Af12E3f5",
    "WrappedTokenLib": "0x0307a2E913FD8fb384a939Cfb7655C30820727D8",
    "ComplexPoolLib": "0x3802c9d35c585ac6668e24A93Bb341D50662aA4E"
  },
  "devdoc": {
    "kind": "dev",
    "methods": {
      "addController(address)": {
        "details": "Add an address allowed to control this contract"
      },
      "allLootboxes(uint256)": {
        "details": "get the quantized token for this"
      },
      "allLootboxesLength()": {
        "details": "number of lootboxes"
      },
      "createLootbox(address,(address,address,address,address,uint256,string,string,string,uint8,uint8,uint256,uint256,uint256,uint256,uint256,uint256,bool))": {
        "details": "deploy a new lootbox using create2"
      },
      "getLootbox(uint256)": {
        "details": "get a lootbox"
      },
      "initialize(address)": {
        "details": "contract initialiser - set the data object"
      },
      "isController(address)": {
        "details": "Check if this address is a controller"
      },
      "lootboxes()": {
        "details": "get the quantized token for this"
      },
      "relinquishControl()": {
        "details": "Remove the sender address from the list of controllers"
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 12920,
        "contract": "src/factories/LootboxFactory.sol:LootboxFactory",
        "label": "_controllers",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 109,
        "contract": "src/factories/LootboxFactory.sol:LootboxFactory",
        "label": "_initialized",
        "offset": 0,
        "slot": "1",
        "type": "t_bool"
      },
      {
        "astId": 112,
        "contract": "src/factories/LootboxFactory.sol:LootboxFactory",
        "label": "_initializing",
        "offset": 1,
        "slot": "1",
        "type": "t_bool"
      },
      {
        "astId": 13607,
        "contract": "src/factories/LootboxFactory.sol:LootboxFactory",
        "label": "_lootboxData",
        "offset": 2,
        "slot": "1",
        "type": "t_contract(ILootboxData)16334"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(ILootboxData)16334": {
        "encoding": "inplace",
        "label": "contract ILootboxData",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      }
    }
  }
}